require('dotenv').config();
const express = require('express');
const path = require('path');
const cors = require('cors');
const helmet = require('helmet');
const { DatabaseSync } = require('node:sqlite');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');

const app = express();
const PORT = process.env.PORT || 3000;
const JWT_SECRET = process.env.JWT_SECRET || 'georgia-premium-secret-2025';

// РћђРћђРћђ Database РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ
const dbPath = process.env.VERCEL ? '/tmp/database.db' : path.join(__dirname, 'database.db');
const db = new DatabaseSync(dbPath);
db.exec("PRAGMA journal_mode = WAL");

function initDB() {
  db.exec(`
    CREATE TABLE IF NOT EXISTS tours (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      name TEXT NOT NULL,
      description TEXT,
      short_description TEXT,
      duration TEXT,
      price INTEGER,
      original_price INTEGER,
      image TEXT,
      category TEXT DEFAULT 'tour',
      included TEXT,
      highlights TEXT,
      difficulty TEXT DEFAULT 'Easy',
      max_group INTEGER DEFAULT 12,
      featured INTEGER DEFAULT 0,
      active INTEGER DEFAULT 1,
      order_index INTEGER DEFAULT 0,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    );

    CREATE TABLE IF NOT EXISTS bookings (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      booking_ref TEXT UNIQUE,
      name TEXT NOT NULL,
      email TEXT NOT NULL,
      phone TEXT,
      tour_id INTEGER,
      tour_name TEXT,
      date TEXT,
      guests INTEGER DEFAULT 1,
      special_requests TEXT,
      status TEXT DEFAULT 'pending',
      total_price INTEGER,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      FOREIGN KEY (tour_id) REFERENCES tours(id)
    );

    CREATE TABLE IF NOT EXISTS testimonials (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      name TEXT NOT NULL,
      country TEXT,
      flag TEXT,
      rating INTEGER DEFAULT 5,
      text TEXT,
      avatar TEXT,
      tour_name TEXT,
      approved INTEGER DEFAULT 1,
      featured INTEGER DEFAULT 0,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    );

    CREATE TABLE IF NOT EXISTS messages (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      name TEXT NOT NULL,
      email TEXT NOT NULL,
      phone TEXT,
      subject TEXT,
      message TEXT,
      status TEXT DEFAULT 'unread',
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    );

    CREATE TABLE IF NOT EXISTS gallery (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      title TEXT,
      image TEXT NOT NULL,
      category TEXT DEFAULT 'nature',
      active INTEGER DEFAULT 1,
      order_index INTEGER DEFAULT 0
    );

    CREATE TABLE IF NOT EXISTS settings (
      key TEXT PRIMARY KEY,
      value TEXT
    );

    CREATE TABLE IF NOT EXISTS admin_users (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      username TEXT UNIQUE NOT NULL,
      password_hash TEXT NOT NULL,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    );
  `);

  // Default admin
  const adminExists = db.prepare('SELECT id FROM admin_users WHERE username = ?').get('admin');
  if (!adminExists) {
    const hash = bcrypt.hashSync('georgia2025', 10);
    db.prepare('INSERT INTO admin_users (username, password_hash) VALUES (?, ?)').run('admin', hash);
    console.log('РюЁ Default admin: admin / georgia2025');
  }

  // Default tours
  const tourCount = db.prepare('SELECT COUNT(*) as c FROM tours').get().c;
  if (tourCount === 0) {
    const tours = [
      {
        name: 'рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃАрЃљрЃЮрЃфрЃюрЃћрЃЉрЃЮ рЃбрЃБрЃарЃў',
        description: 'рЃњрЃљрЃЏрЃЮрЃўрЃЎрЃЋрЃџрЃўрЃћрЃЌ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃЏрЃљрЃњрЃўрЃБрЃарЃў рЃЎрЃљрЃърЃўрЃбрЃљрЃџрЃў - рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў. рЃФрЃЋрЃћрЃџрЃў рЃЦрЃљрЃџрЃљрЃЦрЃўрЃА рЃЋрЃўрЃгрЃарЃЮ рЃЦрЃБрЃЕрЃћрЃЉрЃў, рЃюрЃљрЃарЃўрЃДрЃљрЃџрЃљ, рЃЏрЃћрЃбрЃћрЃ«рЃў, рЃАрЃўрЃЮрЃюрЃўрЃА рЃбрЃљрЃФрЃљрЃарЃў рЃЊрЃљ рЃфрЃюрЃЮрЃЉрЃўрЃџрЃў рЃњрЃЮрЃњрЃўрЃарЃЊрЃўрЃА рЃљрЃЉрЃљрЃюрЃЮрЃћрЃЉрЃў. рЃћрЃЦрЃАрЃърЃћрЃарЃб рЃњрЃўрЃЊрЃЌрЃљрЃю рЃћрЃарЃЌрЃљрЃЊ рЃЕрЃљрЃћрЃцрЃџрЃЋрЃўрЃЌ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЎрЃБрЃџрЃбрЃБрЃарЃўрЃА рЃАрЃўрЃдрЃарЃЏрЃћрЃерЃў.',
        short_description: 'рЃФрЃЋрЃћрЃџрЃў рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃЏрЃљрЃњрЃўрЃБрЃарЃў рЃњрЃљрЃЏрЃЮрЃЎрЃЋрЃџрЃћрЃЋрЃљ',
        duration: '8 рЃАрЃљрЃљрЃЌрЃў', price: 150, original_price: 200,
        image: 'https://images.unsplash.com/photo-1556566464-14f16d840f0e?auto=format&fit=crop&w=800&q=80',
        category: 'city', included: 'рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,рЃАрЃљрЃЊрЃўрЃџрЃў,рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў',
        highlights: 'рЃюрЃљрЃарЃўрЃДрЃљрЃџрЃљ,рЃЏрЃћрЃбрЃћрЃ«рЃў,рЃАрЃўрЃЮрЃюрЃў,рЃЦрЃљрЃарЃЋрЃљрЃАрЃџрЃљ,рЃњрЃЮрЃњрЃўрЃарЃЊрЃўрЃА рЃљрЃЉрЃљрЃюрЃЮрЃћрЃЉрЃў', difficulty: 'Easy', max_group: 15, featured: 1
      },
      {
        name: 'рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃњрЃБрЃџрЃў',
        description: 'рЃЏрЃЮрЃўрЃюрЃљрЃ«рЃБрЃџрЃћрЃЌ рЃџрЃћрЃњрЃћрЃюрЃЊрЃљрЃарЃБрЃџрЃў рЃњрЃћрЃарЃњрЃћрЃЌрЃўрЃА рЃАрЃљрЃЏрЃћрЃЉрЃљ Рђћ рЃћрЃЎрЃџрЃћрЃАрЃўрЃљ 2170 рЃЏрЃћрЃбрЃа рЃАрЃўрЃЏрЃљрЃдрЃџрЃћрЃќрЃћ, рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃЏрЃЌрЃўрЃљрЃюрЃў рЃърЃћрЃўрЃќрЃљрЃЪрЃћрЃЉрЃўрЃА рЃцрЃЮрЃюрЃќрЃћ. рЃћрЃА рЃбрЃБрЃарЃў рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃў рЃАрЃљрЃ«рЃўрЃА рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃАрЃўрЃљрЃЏрЃЮрЃЋрЃюрЃћрЃЉрЃљрЃљ.',
        short_description: 'рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃџрЃљрЃЏрЃљрЃќрЃў рЃ«рЃћрЃЊрЃћрЃЉрЃў',
        duration: '2 рЃЊрЃдрЃћ', price: 280, original_price: 360,
        image: 'https://images.unsplash.com/photo-1565008576549-57569a49371d?auto=format&fit=crop&w=800&q=80',
        category: 'adventure', included: 'рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ,рЃЎрЃЋрЃћрЃЉрЃљ',
        highlights: 'рЃњрЃћрЃарЃњрЃћрЃЌрЃўрЃА рЃАрЃљрЃЏрЃћрЃЉрЃљ,рЃДрЃљрЃќрЃЉрЃћрЃњрЃў,рЃЕрЃћрЃЌрЃюрЃћрЃџрЃў,рЃЊрЃљрЃарЃўрЃљрЃџрЃўрЃА рЃ«рЃћрЃЮрЃЉрЃљ', difficulty: 'Moderate', max_group: 10, featured: 1
      },
      {
        name: 'рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ рЃдрЃЋрЃўрЃюрЃўрЃА рЃАрЃљрЃЏрЃћрЃцрЃЮ',
        description: 'рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ рЃЏрЃАрЃЮрЃцрЃџрЃўрЃЮрЃерЃў рЃдрЃЋрЃўрЃюрЃўрЃА рЃЊрЃљрЃЉрЃљрЃЊрЃћрЃЉрЃўрЃА рЃљрЃЊрЃњрЃўрЃџрЃў. 8000 рЃгрЃџрЃўрЃА рЃбрЃарЃљрЃЊрЃўрЃфрЃўрЃљ, рЃЌрЃўрЃ«рЃўрЃА рЃЦрЃЋрЃћрЃЋрЃарЃћрЃЉрЃў, рЃЮрЃ»рЃљрЃ«рЃБрЃарЃў рЃЏрЃљрЃарЃюрЃћрЃЉрЃў рЃЊрЃљ рЃАрЃўрЃдрЃюрЃљрЃдрЃўрЃА рЃќрЃдрЃљрЃърЃарЃБрЃџрЃў рЃЦрЃљрЃџрЃљрЃЦрЃў. рЃћрЃА рЃбрЃБрЃарЃў рЃДрЃЋрЃћрЃџрЃљ рЃњрЃарЃФрЃюрЃЮрЃЉрЃљрЃА рЃњрЃљрЃБрЃдрЃЋрЃўрЃФрЃћрЃЉрЃА.',
        short_description: 'рЃдрЃЋрЃўрЃюрЃЮ, рЃўрЃАрЃбрЃЮрЃарЃўрЃљ рЃЊрЃљ рЃњрЃљрЃюрЃАрЃљрЃфрЃЋрЃўрЃцрЃарЃћрЃЉрЃћрЃџрЃў рЃЉрЃБрЃюрЃћрЃЉрЃљ',
        duration: '1 рЃЊрЃдрЃћ', price: 120, original_price: 160,
        image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80',
        category: 'cultural', included: 'рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,рЃдрЃЋрЃўрЃюрЃўрЃА рЃЊрЃћрЃњрЃБрЃАрЃбрЃљрЃфрЃўрЃљ,рЃАрЃљрЃЊрЃўрЃџрЃў',
        highlights: 'рЃАрЃўрЃдрЃюрЃљрЃдрЃў,рЃЉрЃЮрЃЊрЃЉрЃћ,рЃюрЃўрЃюрЃЮрЃгрЃЏрЃўрЃюрЃЊрЃљ,рЃљрЃџрЃљрЃЋрЃћрЃарЃЊрЃў', difficulty: 'Easy', max_group: 15, featured: 1
      },
      {
        name: 'рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ рЃерЃљрЃЋрЃў рЃќрЃдрЃЋрЃљ',
        description: 'рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ рЃћрЃА рЃАрЃ«рЃЋрЃљ рЃАрЃљрЃЏрЃДрЃљрЃарЃЮрЃљ. рЃБрЃџрЃљрЃЏрЃљрЃќрЃћрЃАрЃў рЃЉрЃЮрЃбрЃљрЃюрЃўрЃЎрЃБрЃарЃў рЃЉрЃљрЃдрЃў, рЃерЃљрЃЋрЃў рЃќрЃдрЃЋрЃўрЃА рЃАрЃљрЃюрЃљрЃърЃўрЃарЃЮ, рЃЌрЃљрЃюрЃљрЃЏрЃћрЃЊрЃарЃЮрЃЋрЃћ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ рЃЊрЃљ рЃюрЃљрЃДрЃЮрЃцрЃўрЃћрЃарЃў рЃдрЃљрЃЏрЃўрЃА рЃфрЃ«рЃЮрЃЋрЃарЃћрЃЉрЃљ. рЃћрЃА рЃбрЃБрЃарЃў рЃДрЃЋрЃћрЃџрЃљрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃБрЃџрЃўрЃљ.',
        short_description: 'рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃЏрЃљрЃарЃњрЃљрЃџрЃўрЃбрЃў рЃерЃљрЃЋ рЃќрЃдрЃЋрЃљрЃќрЃћ',
        duration: '2 рЃЊрЃдрЃћ', price: 250, original_price: 330,
        image: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80',
        category: 'beach', included: 'рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ,рЃћрЃЦрЃАрЃЎрЃБрЃарЃАрЃўрЃћрЃЉрЃў',
        highlights: 'рЃЉрЃЮрЃбрЃљрЃюрЃўрЃЎрЃБрЃарЃў рЃЉрЃљрЃдрЃў,рЃЉрЃБрЃџрЃЋрЃљрЃарЃў,рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃфрЃўрЃ«рЃћ,рЃЏрЃљрЃЦрЃўрЃюрЃ»рЃљрЃБрЃарЃў', difficulty: 'Easy', max_group: 12, featured: 0
      },
      {
        name: 'рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ рЃбрЃДрЃћрЃћрЃЉрЃў рЃЊрЃљ рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў',
        description: 'рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ UNESCO-рЃА рЃЏрЃАрЃЮрЃцрЃџрЃўрЃЮ рЃЏрЃћрЃЏрЃЎрЃЋрЃўрЃЊрЃарЃћрЃЮрЃЉрЃўрЃА рЃФрЃћрЃњрЃџрЃў рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃњрЃБрЃџрЃерЃў. рЃерЃБрЃљ рЃАрЃљрЃБрЃЎрЃБрЃюрЃћрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў, рЃљрЃџрЃърЃБрЃарЃў рЃбрЃарЃћрЃЎрЃўрЃюрЃњрЃў рЃЊрЃљ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃбрЃБрЃЏрЃљрЃарЃЏрЃљрЃАрЃърЃўрЃюрЃФрЃџрЃЮрЃЉрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃЌрЃћрЃџ рЃфрЃ«рЃЮрЃЋрЃарЃћрЃЉрЃљрЃерЃў рЃњрЃљрЃ«рЃАрЃЮрЃЋрЃЌ.',
        short_description: 'UNESCO рЃФрЃћрЃњрЃџрЃў Рђћ рЃЉрЃБрЃюрЃћрЃЉрЃљ рЃЊрЃљ рЃўрЃАрЃбрЃЮрЃарЃўрЃљ',
        duration: '3 рЃЊрЃдрЃћ', price: 420, original_price: 550,
        image: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=800&q=80',
        category: 'adventure', included: 'рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ,рЃЎрЃЋрЃћрЃЉрЃљ,рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў',
        highlights: 'рЃЏрЃћрЃАрЃбрЃўрЃљ,рЃљрЃЊрЃўрЃерЃў,рЃЕрЃљрЃЪрЃЋрЃљрЃАрЃў,рЃќрЃБрЃЉрЃў,рЃ░рЃљрЃЌрЃЋрЃљрЃџрЃў', difficulty: 'Moderate', max_group: 8, featured: 1
      },
      {
        name: 'рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃАрЃарЃБрЃџрЃљрЃЊ Рђћ VIP 7 рЃЊрЃдрЃћ',
        description: 'рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃДрЃЋрЃћрЃџрЃљ рЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃў рЃћрЃарЃЌ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃерЃў Рђћ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃЊрЃљрЃю рЃДрЃљрЃќрЃЉрЃћрЃњрЃљрЃЏрЃЊрЃћ, рЃЎрЃљрЃ«рЃћрЃЌрЃўрЃЊрЃљрЃю рЃЉрЃљрЃЌрЃБрЃЏрЃљрЃЏрЃЊрЃћ, рЃАрЃЋрЃљрЃюрЃћрЃЌрЃљрЃЏрЃЊрЃћ. 5-рЃЋрЃљрЃарЃАрЃЎрЃЋрЃџрЃљрЃЋрЃўрЃљрЃюрЃў рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ, рЃърЃўрЃарЃљрЃЊрЃў рЃњрЃўрЃЊрЃў, VIP рЃбрЃарЃљрЃюрЃАрЃцрЃћрЃарЃў. рЃћрЃА рЃбрЃБрЃарЃў рЃљрЃа рЃўрЃЋрЃўрЃгрЃДрЃћрЃЉрЃљ.',
        short_description: 'рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃАрЃарЃБрЃџрЃў VIP рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ',
        duration: '7 рЃЊрЃдрЃћ', price: 1200, original_price: 1600,
        image: 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=800&q=80',
        category: 'premium', included: 'рЃДрЃЋрЃћрЃџрЃљ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў,рЃњрЃўрЃЊрЃў,5РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ,рЃДрЃЋрЃћрЃџрЃљ рЃЎрЃЋрЃћрЃЉрЃљ,рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў,рЃдрЃЋрЃўрЃюрЃЮ',
        highlights: 'рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў,рЃЏрЃфрЃ«рЃћрЃЌрЃљ,рЃДрЃљрЃќрЃЉрЃћрЃњрЃў,рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў,рЃЎрЃљрЃ«рЃћрЃЌрЃў,рЃЉрЃљрЃЌрЃБрЃЏрЃў,рЃЦрЃБрЃЌрЃљрЃўрЃАрЃў', difficulty: 'Easy', max_group: 6, featured: 1
      }
    ];
    const ins = db.prepare(`INSERT INTO tours (name,description,short_description,duration,price,original_price,image,category,included,highlights,difficulty,max_group,featured) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)`);
    tours.forEach(t => ins.run(t.name, t.description, t.short_description, t.duration, t.price, t.original_price, t.image, t.category, t.included, t.highlights, t.difficulty, t.max_group, t.featured));
  }

  // Default testimonials
  const testCount = db.prepare('SELECT COUNT(*) as c FROM testimonials').get().c;
  if (testCount === 0) {
    const tests = [
      { name: 'Sarah Johnson', country: 'USA', flag: '­ЪЄ║­ЪЄИ', rating: 5, text: 'Absolutely breathtaking! The Kazbegi tour was the highlight of my entire year. Our guide Giorgi was incredibly knowledgeable and the views of Gergeti Trinity Church left me speechless. Worth every penny!', tour_name: 'рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃњрЃБрЃџрЃў', featured: 1 },
      { name: 'Marco Rossi', country: 'Italy', flag: '­ЪЄ«­ЪЄ╣', rating: 5, text: 'Georgia ├е magica, e Georgia Premium ha reso tutto ancora pi├╣ speciale. Il wine tour in Kakheti era semplicemente perfetto. I vini georgiani sono incredibili Рђћ 8000 anni di tradizione!', tour_name: 'рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ рЃдрЃЋрЃўрЃюрЃўрЃА рЃАрЃљрЃЏрЃћрЃцрЃЮ', featured: 1 },
      { name: 'Anna Schmidt', country: 'Germany', flag: '­ЪЄЕ­ЪЄф', rating: 5, text: 'Perfect from start to finish. The 7-day VIP tour covered everything Georgia has to offer. Premium vehicles, expert guides, stunning hotels. We felt like royalty throughout the entire journey!', tour_name: 'рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃАрЃарЃБрЃџрЃљрЃЊ Рђћ VIP 7 рЃЊрЃдрЃћ', featured: 1 },
      { name: 'James Wilson', country: 'UK', flag: '­ЪЄг­ЪЄД', rating: 5, text: 'Tbilisi is now my absolute favorite city in the world. The old town, the sulfur baths, the food Рђћ incredible! Our guide made the city come alive with stories of Georgian history.', tour_name: 'рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃАрЃљрЃЮрЃфрЃюрЃћрЃЉрЃЮ рЃбрЃБрЃарЃў', featured: 1 },
      { name: 'Sophie Martin', country: 'France', flag: '­ЪЄФ­ЪЄи', rating: 5, text: 'Svaneti m\'a coup├Е le souffle! Les tours m├Еdi├Еvales, les montagnes, l\'hospitalit├Е g├Еorgienne Рђћ tout ├Еtait parfait. Je recommande vivement cette agence ├а tous mes amis voyageurs!', tour_name: 'рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ рЃбрЃДрЃћрЃћрЃЉрЃў рЃЊрЃљ рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў', featured: 1 },
      { name: 'Yuki Tanaka', country: 'Japan', flag: '­ЪЄ»­ЪЄх', rating: 5, text: 'сѓИсЃДсЃ╝сѓИсѓбсЂ»ТЃ│тЃЈС╗ЦСИісЂФуЙјсЂЌсЂётЏйсЂДсЂЌсЂЪсђѓсЃЌсЃГсЂ«сѓгсѓцсЃЅсЂеУ▒фУЈ»сЂфУ╗ісЂДт┐ФжЂЕсЂФУд│тЁЅсЂДсЂЇсЂЙсЂЌсЂЪсђѓсѓФсѓ║сЃЎсѓ«сЂ«ТЎ»УЅ▓сЂ»СИђућЪт┐ўсѓїсѓЅсѓїсЂЙсЂЏсѓЊ№╝Ђ', tour_name: 'рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃўрЃА рЃњрЃБрЃџрЃў', featured: 0 }
    ];
    const ins2 = db.prepare(`INSERT INTO testimonials (name,country,flag,rating,text,tour_name,approved,featured) VALUES (?,?,?,?,?,?,1,?)`);
    tests.forEach(t => ins2.run(t.name, t.country, t.flag, t.rating, t.text, t.tour_name, t.featured));
  }

  // Default gallery
  const galCount = db.prepare('SELECT COUNT(*) as c FROM gallery').get().c;
  if (galCount === 0) {
    const photos = [
      { title: 'рЃњрЃћрЃарЃњрЃћрЃЌрЃўрЃА рЃАрЃљрЃЏрЃћрЃЉрЃљ', image: 'https://images.unsplash.com/photo-1565008576549-57569a49371d?auto=format&fit=crop&w=600&q=80', category: 'mountains' },
      { title: 'рЃФрЃЋрЃћрЃџрЃў рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў', image: 'https://images.unsplash.com/photo-1556566464-14f16d840f0e?auto=format&fit=crop&w=600&q=80', category: 'city' },
      { title: 'рЃЎрЃљрЃ«рЃћрЃЌрЃўрЃА рЃЋрЃћрЃюрЃљрЃ«рЃћрЃЉрЃў', image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=600&q=80', category: 'nature' },
      { title: 'рЃАрЃЋрЃљрЃюрЃћрЃЌрЃўрЃА рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў', image: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=600&q=80', category: 'mountains' },
      { title: 'рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃАрЃљрЃюрЃљрЃърЃўрЃарЃЮ', image: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=600&q=80', category: 'beach' },
      { title: 'рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃўрЃЮрЃюрЃў', image: 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=600&q=80', category: 'mountains' },
      { title: 'рЃЏрЃфрЃ«рЃћрЃЌрЃљ Рђћ рЃФрЃЋрЃћрЃџрЃў рЃЊрЃћрЃЊрЃљрЃЦрЃљрЃџрЃљрЃЦрЃў', image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&w=600&q=80', category: 'cultural' },
      { title: 'рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮ', image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?auto=format&fit=crop&w=600&q=80', category: 'food' },
      { title: 'рЃЏрЃфрЃ«рЃћрЃЌрЃўрЃА рЃ»рЃЋрЃљрЃарЃў', image: 'https://images.unsplash.com/photo-1516483638261-f4dbaf036963?auto=format&fit=crop&w=600&q=80', category: 'cultural' },
      { title: 'рЃЏрЃўрЃ«рЃћрЃўрЃџ рЃбрЃЉрЃљ', image: 'https://images.unsplash.com/photo-1501854140801-50d01698950b?auto=format&fit=crop&w=600&q=80', category: 'nature' },
      { title: 'рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃдрЃЋрЃўрЃюрЃЮ', image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?auto=format&fit=crop&w=600&q=80', category: 'food' },
      { title: 'рЃљрЃџрЃљрЃќрЃюрЃўрЃА рЃЋрЃћрЃџрЃў', image: 'https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=600&q=80', category: 'nature' }
    ];
    const ins3 = db.prepare(`INSERT INTO gallery (title,image,category) VALUES (?,?,?)`);
    photos.forEach(p => ins3.run(p.title, p.image, p.category));
  }

  // Default settings
  const defaults = [
    ['site_title', 'Georgia Premium Trips'],
    ['site_subtitle', 'Discover Georgia in Style'],
    ['tagline', 'Where Ancient History Meets Breathtaking Nature'],
    ['phone', '+995 555 100 200'],
    ['email', 'info@georgiatrips.ge'],
    ['address', 'Rustaveli Ave 42, Tbilisi, Georgia 0108'],
    ['whatsapp', '+995555100200'],
    ['instagram', 'georgiapremiumtrips'],
    ['facebook', 'georgiapremiumtrips'],
    ['youtube', 'georgiapremiumtrips'],
    ['chatbot_enabled', 'true'],
    ['booking_enabled', 'true'],
    ['hero_video', ''],
    ['announcement', ''],
    ['rating', '4.9'],
    ['clients_served', '2400'],
    ['years_experience', '12'],
    ['tours_count', '50+']
  ];
  const ins4 = db.prepare('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)');
  defaults.forEach(([k, v]) => ins4.run(k, v));
}

initDB();

// РћђРћђРћђ Middleware РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ
app.use(cors());
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));
app.use(helmet({ contentSecurityPolicy: false, crossOriginEmbedderPolicy: false }));
app.use(express.static(path.join(__dirname, 'public')));

// Auth middleware
function auth(req, res, next) {
  const token = req.headers.authorization?.split(' ')[1];
  if (!token) return res.status(401).json({ error: 'Unauthorized' });
  try {
    req.user = jwt.verify(token, JWT_SECRET);
    next();
  } catch { res.status(401).json({ error: 'Invalid token' }); }
}

// РћђРћђРћђ PUBLIC API РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ

app.get('/api/settings', (req, res) => {
  const rows = db.prepare('SELECT key, value FROM settings').all();
  res.json(Object.fromEntries(rows.map(r => [r.key, r.value])));
});

app.get('/api/tours', (req, res) => {
  const { category, featured } = req.query;
  let q = 'SELECT * FROM tours WHERE active=1';
  const p = [];
  if (category) { q += ' AND category=?'; p.push(category); }
  if (featured) { q += ' AND featured=1'; }
  q += ' ORDER BY featured DESC, order_index, id';
  res.json(db.prepare(q).all(...p));
});

app.get('/api/tours/:id', (req, res) => {
  const t = db.prepare('SELECT * FROM tours WHERE id=? AND active=1').get(req.params.id);
  t ? res.json(t) : res.status(404).json({ error: 'Not found' });
});

app.get('/api/testimonials', (req, res) => {
  res.json(db.prepare('SELECT * FROM testimonials WHERE approved=1 ORDER BY featured DESC, id').all());
});

app.get('/api/gallery', (req, res) => {
  const { category } = req.query;
  let q = 'SELECT * FROM gallery WHERE active=1';
  const p = [];
  if (category && category !== 'all') { q += ' AND category=?'; p.push(category); }
  q += ' ORDER BY order_index, id';
  res.json(db.prepare(q).all(...p));
});

app.post('/api/bookings', (req, res) => {
  const { name, email, phone, tour_id, date, guests, special_requests } = req.body;
  if (!name?.trim() || !email?.trim()) return res.status(400).json({ error: 'Name and email required' });
  const tour = tour_id ? db.prepare('SELECT * FROM tours WHERE id=?').get(tour_id) : null;
  const ref = 'GP-' + Date.now().toString(36).toUpperCase().slice(-6);
  const total = tour ? tour.price * (parseInt(guests) || 1) : null;
  db.prepare(`INSERT INTO bookings (booking_ref,name,email,phone,tour_id,tour_name,date,guests,special_requests,total_price) VALUES (?,?,?,?,?,?,?,?,?,?)`).run(ref, name.trim(), email.trim(), phone || null, tour_id || null, tour?.name || null, date || null, parseInt(guests) || 1, special_requests || null, total);
  res.json({ success: true, booking_ref: ref, message: 'рЃЊрЃљрЃ»рЃљрЃЋрЃерЃюрЃљ рЃЏрЃўрЃдрЃћрЃЉрЃБрЃџрЃўрЃљ! рЃЏрЃљрЃџрЃћ рЃЊрЃљрЃњрЃўрЃЎрЃљрЃЋрЃерЃўрЃарЃЊрЃћрЃЉрЃўрЃЌ.' });
});

app.post('/api/contact', (req, res) => {
  const { name, email, phone, subject, message } = req.body;
  if (!name?.trim() || !email?.trim() || !message?.trim()) return res.status(400).json({ error: 'Required fields missing' });
  db.prepare(`INSERT INTO messages (name,email,phone,subject,message) VALUES (?,?,?,?,?)`).run(name.trim(), email.trim(), phone || null, subject || null, message.trim());
  res.json({ success: true, message: 'рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃџрЃўрЃљ!' });
});

// РћђРћђРћђ CHATBOT РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ
app.post('/api/chat', async (req, res) => {
  const { message, history = [] } = req.body;
  if (!message?.trim()) return res.status(400).json({ error: 'Message required' });

  // Optional Claude AI integration
  if (process.env.ANTHROPIC_API_KEY) {
    try {
      const { default: Anthropic } = await import('@anthropic-ai/sdk');
      const client = new Anthropic({ apiKey: process.env.ANTHROPIC_API_KEY });
      const msgs = [
        ...history.slice(-10).map(h => ({ role: h.role, content: h.content })),
        { role: 'user', content: message }
      ];
      const response = await client.messages.create({
        model: 'claude-haiku-4-5-20251001',
        max_tokens: 800,
        system: `рЃерЃћрЃю рЃ«рЃљрЃа "Georgia Premium Trips"-рЃўрЃА рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃў рЃАрЃљрЃбрЃБрЃарЃЮ рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў. рЃЎрЃЮрЃЏрЃърЃљрЃюрЃўрЃљ рЃАрЃЌрЃљрЃЋрЃљрЃќрЃЮрЃЉрЃА рЃърЃарЃћрЃЏрЃўрЃБрЃЏ рЃбрЃБрЃарЃћрЃЉрЃА рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў.

рЃърЃљрЃАрЃБрЃ«рЃЮрЃЉ рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ рЃЌрЃБ рЃЎрЃўрЃЌрЃ«рЃЋрЃљ рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊрЃљрЃљ, рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃарЃљрЃЊ рЃЌрЃБ рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃарЃљрЃЊрЃљрЃљ, рЃАрЃ«рЃЋрЃљ рЃћрЃюрЃљрЃќрЃћрЃф рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ.

=== рЃбрЃБрЃарЃћрЃЉрЃў рЃЊрЃљ рЃцрЃљрЃАрЃћрЃЉрЃў ===
1. рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃбрЃБрЃарЃў Рђћ $150 | 8 рЃАрЃљрЃљрЃЌрЃў | рЃЏрЃљрЃЦрЃА 15 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃюрЃљрЃарЃўрЃДрЃљрЃџрЃљ, рЃЏрЃћрЃбрЃћрЃ«рЃў, рЃАрЃўрЃЮрЃюрЃў, рЃЦрЃљрЃарЃЋрЃљрЃАрЃџрЃљ, рЃњрЃЮрЃњрЃўрЃарЃЊрЃўрЃА рЃљрЃЉрЃљрЃюрЃЮрЃћрЃЉрЃў, рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџрЃў, рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЋрЃљрЃ«рЃерЃљрЃЏрЃў
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃърЃарЃЮрЃц. рЃњрЃўрЃЊрЃў, рЃАрЃљрЃЊрЃўрЃџрЃў, рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў
   Рђб рЃљрЃа рЃерЃћрЃЊрЃўрЃА: рЃърЃўрЃарЃљрЃЊрЃў рЃерЃЮрЃърЃўрЃюрЃњрЃў, рЃљрЃџрЃЎрЃЮрЃ░рЃЮрЃџрЃў (рЃАрЃБрЃарЃЋрЃўрЃџрЃўрЃАрЃљрЃЏрЃћрЃЉрЃа)

2. рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ $280 | 2 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 10 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўРєњрЃЪрЃўрЃюрЃЋрЃљрЃџрЃўРєњрЃњрЃБрЃЊрЃљрЃБрЃарЃўРєњрЃАрЃбрЃћрЃцрЃљрЃюрЃгрЃЏрЃўрЃюрЃЊрЃљРєњрЃњрЃћрЃарЃњрЃћрЃЌрЃў (2170рЃЏ)РєњрЃЊрЃљрЃарЃўрЃљрЃџрЃўрЃА рЃ«рЃћрЃЮрЃЉрЃљ
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў, 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ, 3 рЃЎрЃЋрЃћрЃЉрЃљ, 4WD рЃ»рЃўрЃърЃў рЃЏрЃЌрЃљрЃерЃў
   Рђб рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ: рЃЏрЃљрЃўрЃАрЃў-рЃЮрЃЦрЃбрЃЮрЃЏрЃЉрЃћрЃарЃў

3. рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ $120 | 1 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 15 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўРєњрЃАрЃўрЃдрЃюрЃљрЃдрЃўРєњрЃЉрЃЮрЃЊрЃЉрЃћРєњрЃюрЃўрЃюрЃЮрЃгрЃЏрЃўрЃюрЃЊрЃљРєњрЃЮрЃ»рЃљрЃ«рЃБрЃарЃў рЃЏрЃљрЃарЃљрЃюрЃўРєњрЃљрЃџрЃљрЃЋрЃћрЃарЃЊрЃў
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў, рЃдрЃЋрЃўрЃюрЃўрЃА рЃЊрЃћрЃњрЃБрЃАрЃбрЃљрЃфрЃўрЃљ (5+ рЃАрЃљрЃ«рЃћрЃЮрЃЉрЃљ), рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃљрЃЊрЃўрЃџрЃў
   Рђб рЃцрЃљрЃЦрЃбрЃў: рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃдрЃЋрЃўрЃюрЃўрЃА рЃАрЃљрЃЏрЃерЃЮрЃЉрЃџрЃЮрЃљ Рђћ 8000 рЃгрЃџрЃўрЃА рЃўрЃАрЃбрЃЮрЃарЃўрЃљ

4. рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ $250 | 2 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 12 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃЉрЃЮрЃбрЃљрЃюрЃўрЃЎрЃБрЃарЃў рЃЉрЃљрЃдрЃў, рЃЉрЃБрЃџрЃЋрЃљрЃарЃў, рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃфрЃўрЃ«рЃћ, рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃбрЃЉрЃљ, рЃЏрЃљрЃ«рЃўрЃюрЃ»рЃљрЃБрЃарЃў
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў, 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ, рЃАрЃљрЃБрЃќрЃЏрЃћ, рЃћрЃЎрЃАрЃЎрЃБрЃарЃАрЃўрЃћрЃЉрЃў

5. рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ $420 | 3 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 8 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃќрЃБрЃњрЃЊрЃўрЃЊрЃўРєњрЃЏрЃћрЃАрЃбрЃўрЃљРєњрЃљрЃЊрЃўрЃерЃўРєњрЃЕрЃљрЃЪрЃЋрЃљрЃАрЃўРєњрЃ░рЃћрЃбрЃЋрЃљрЃџрЃў
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃДрЃЋрЃћрЃџрЃљ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў, рЃАрЃЋрЃљрЃюрЃБрЃарЃў рЃЮрЃ»рЃљрЃ«рЃў/рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ, рЃЎрЃЋрЃћрЃЉрЃљ
   Рђб UNESCO рЃЏрЃАрЃЮрЃцрЃџрЃўрЃЮ рЃЏрЃћрЃЏрЃЎрЃЋрЃўрЃЊрЃарЃћрЃЮрЃЉрЃљ, рЃерЃБрЃљ рЃАрЃљрЃБрЃЎрЃБрЃюрЃћрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў

6. VIP 7 рЃЊрЃдрЃћ Рђћ $1,200 | 7 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 6 рЃЎрЃљрЃфрЃў
   Рђб рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўРєњрЃЏрЃфрЃ«рЃћрЃЌрЃљРєњрЃДрЃљрЃќрЃЉрЃћрЃњрЃўРєњрЃАрЃЋрЃљрЃюрЃћрЃЌрЃўРєњрЃЦрЃБрЃЌрЃљрЃўрЃАрЃўРєњрЃЉрЃЮрЃарЃ»рЃЮрЃЏрЃўРєњрЃЎрЃљрЃ«рЃћрЃЌрЃўРєњрЃЉрЃљрЃЌрЃБрЃЏрЃў
   Рђб рЃерЃћрЃЊрЃўрЃА: рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў Рђћ 5РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ, рЃДрЃЋрЃћрЃџрЃљ рЃЎрЃЋрЃћрЃЉрЃљ, рЃърЃўрЃарЃљрЃЊрЃў рЃњрЃўрЃЊрЃў, VIP рЃЏрЃљрЃюрЃЦрЃљрЃюрЃљ, рЃдрЃЋрЃўрЃюрЃЮ
   Рђб рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ: $1,200 (рЃюрЃЮрЃЏрЃўрЃюрЃљрЃџрЃБрЃарЃў $1,600)

=== рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃћрЃЉрЃў ===
Рђб 4+ рЃЎрЃљрЃфрЃў: 15% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ
Рђб 30+ рЃЊрЃдрЃўрЃЌ рЃљрЃЊрЃарЃћ рЃ»рЃљрЃЋрЃерЃљрЃюрЃў: 10% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ
Рђб VIP 7 рЃЊрЃдрЃћ: $400 рЃЊрЃљрЃќрЃЮрЃњрЃЋрЃљ

=== рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ ===
Рђб 48+ рЃАрЃљрЃљрЃЌрЃўрЃЌ рЃљрЃЊрЃарЃћ: 100% рЃЌрЃљрЃюрЃ«рЃўрЃА рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ
Рђб 24-48 рЃАрЃљрЃљрЃЌрЃўрЃЌ рЃљрЃЊрЃарЃћ: 50% рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ
Рђб 24 рЃАрЃљрЃљрЃЌрЃљрЃЏрЃЊрЃћ: рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ рЃерЃћрЃБрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ

=== рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃбрЃў ===
­ЪЊъ +995 555 100 200
­ЪЊД info@georgiatrips.ge
­Ъњг WhatsApp: +995 555 100 200 (рЃърЃљрЃАрЃБрЃ«рЃў 1 рЃАрЃљрЃљрЃЌрЃерЃў)

=== рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў ===
- рЃўрЃДрЃљрЃЋрЃў рЃЏрЃћрЃњрЃЮрЃЉрЃарЃБрЃџрЃў, рЃћрЃюрЃЌрЃБрЃќрЃўрЃљрЃАрЃбрЃБрЃарЃў, рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃў
- рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃърЃљрЃАрЃБрЃ«рЃћрЃЉрЃў рЃњрЃљрЃАрЃфрЃў Рђћ рЃљрЃа рЃЊрЃљрЃќрЃЮрЃњрЃЮ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ
- рЃДрЃЮрЃЋрЃћрЃџ рЃърЃљрЃАрЃБрЃ«рЃА рЃЊрЃљрЃљрЃАрЃарЃБрЃџрЃћ рЃ»рЃљрЃЋрЃерЃюрЃўрЃА рЃљрЃю рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃбрЃўрЃА рЃЏрЃЮрЃгрЃЋрЃћрЃЋрЃўрЃЌ
- рЃЦрЃљрЃарЃЌрЃБрЃџ рЃЎрЃБрЃџрЃбрЃБрЃарЃљрЃќрЃћ, рЃўрЃАрЃбрЃЮрЃарЃўрЃљрЃќрЃћ, рЃАрЃљрЃГрЃЏрЃћрЃџрЃќрЃћ рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃўрЃф рЃърЃљрЃАрЃБрЃ«рЃЮрЃЉ
- рЃЌрЃБ рЃЎрЃўрЃЌрЃ«рЃЋрЃљ рЃбрЃБрЃарЃћрЃЉрЃА рЃАрЃфрЃЊрЃћрЃЉрЃљ Рђћ рЃњрЃБрЃџрЃгрЃарЃцрЃћрЃџрЃљрЃЊ рЃљрЃ«рЃАрЃћрЃюрЃў рЃЊрЃљ рЃЎрЃЮрЃЏрЃърЃљрЃюрЃўрЃљрЃќрЃћ рЃњрЃљрЃЊрЃљрЃўрЃДрЃЋрЃљрЃюрЃћ`,
        messages: msgs
      });
      return res.json({ response: response.content[0].text, ai: true });
    } catch (e) {
      console.error('AI chat error:', e.message);
    }
  }

  // Rule-based fallback
  res.json({ response: getRuleResponse(message.toLowerCase()), ai: false });
});

function getRuleResponse(msg) {
  const rules = [
    // рЃЏрЃўрЃАрЃљрЃџрЃЏрЃћрЃЉрЃљ
    {
      kw: ['hello','hi','hey','рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ','рЃАрЃљрЃџрЃљрЃЏ','рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ','рЃЏрЃЮрЃњрЃћрЃАрЃљрЃџрЃЏрЃћрЃЉ','gamarjoba'],
      r: '­ЪЄг­ЪЄф рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ! Georgia Premium Trips-рЃерЃў рЃњрЃАрЃЋрЃљрЃЏрЃЌ!\n\nрЃЏрЃћ рЃЋрЃљрЃа рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃърЃўрЃарЃљрЃЊрЃў рЃАрЃљрЃбрЃБрЃарЃЮ рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў. рЃерЃћрЃЏрЃўрЃФрЃџрЃўрЃљ рЃЊрЃљрЃњрЃћрЃ«рЃЏрЃљрЃарЃЮ:\n­ЪЈћ№ИЈ рЃбрЃБрЃарЃўрЃА рЃљрЃарЃЕрЃћрЃЋрЃљрЃерЃў\n­Ъњ░ рЃцрЃљрЃАрЃћрЃЉрЃўрЃАрЃљ рЃЊрЃљ рЃЕрЃљрЃЌрЃЋрЃџрЃўрЃџрЃў рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ\n­ЪЊЁ рЃ»рЃљрЃЋрЃерЃюрЃўрЃА рЃњрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃљрЃерЃў\n­ЪЄг­ЪЄф рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃќрЃћ рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃа рЃЎрЃўрЃЌрЃ«рЃЋрЃљрЃерЃў\n\nрЃарЃљ рЃњрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА?'
    },

    // рЃДрЃЋрЃћрЃџрЃљ рЃбрЃБрЃарЃў
    {
      kw: ['tour','рЃбрЃБрЃарЃў','tours','рЃбрЃБрЃарЃћрЃЉрЃў','trip','package','рЃЏрЃЮрЃњрЃќрЃљрЃБрЃарЃЮрЃЉ','рЃарЃљ рЃбрЃБрЃарЃў','рЃарЃЮрЃЏрЃћрЃџрЃў рЃбрЃБрЃарЃў','рЃЕрЃљрЃЏрЃЮрЃЕрЃљрЃЏрЃЮрЃЌрЃЋрЃљрЃџрЃћ','рЃюрЃБрЃАрЃ«рЃљ'],
      r: '­ЪЄг­ЪЄф рЃЕрЃЋрЃћрЃюрЃў 6 рЃърЃарЃћрЃЏрЃўрЃБрЃЏ рЃбрЃБрЃарЃў:\n\n­ЪЈЎ№ИЈ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рђћ $150 | 8 рЃАрЃљрЃљрЃЌрЃў\n­ЪЈћ№ИЈ рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ $280 | 2 рЃЊрЃдрЃћ РГљ рЃърЃЮрЃърЃБрЃџрЃљрЃарЃБрЃџрЃў\n­ЪЇи рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ $120 | 1 рЃЊрЃдрЃћ\n­Ъїі рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ $250 | 2 рЃЊрЃдрЃћ\n­ЪЌ╝ рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ $420 | 3 рЃЊрЃдрЃћ\n­ЪЉЉ VIP 7 рЃЊрЃдрЃћ Рђћ $1,200 | рЃАрЃарЃБрЃџрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ\n\nрЃДрЃЋрЃћрЃџрЃљ рЃбрЃБрЃарЃерЃў рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃърЃарЃЮрЃц. рЃњрЃўрЃЊрЃў, рЃЎрЃЋрЃћрЃЉрЃљ.\nрЃЏрЃћрЃбрЃў рЃўрЃюрЃцрЃЮ рЃњрЃўрЃюрЃЊрЃљ? рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃарЃў рЃбрЃБрЃарЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў рЃЊрЃљрЃгрЃћрЃарЃћ!'
    },

    // рЃцрЃљрЃАрЃћрЃЉрЃў
    {
      kw: ['price','cost','рЃцрЃљрЃАрЃў','how much','рЃарЃљ рЃдрЃўрЃа','рЃдрЃўрЃарЃћрЃЉрЃљ','рЃарЃљ рЃ»рЃЊрЃћрЃЉрЃљ','рЃўрЃљрЃцрЃў','рЃФрЃЋрЃўрЃарЃў','budget','рЃЉрЃўрЃБрЃ»рЃћрЃбрЃў'],
      r: '­Ъњ░ рЃцрЃљрЃАрЃћрЃЉрЃў:\n\nРђб рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў: $150/рЃЎрЃљрЃфрЃў\nРђб рЃЎрЃљрЃ«рЃћрЃЌрЃў: $120/рЃЎрЃљрЃфрЃў (рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃўрЃљрЃцрЃў)\nРђб рЃЉрЃљрЃЌрЃБрЃЏрЃў: $250/рЃЎрЃљрЃфрЃў\nРђб рЃДрЃљрЃќрЃЉрЃћрЃњрЃў: $280/рЃЎрЃљрЃфрЃў\nРђб рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў: $420/рЃЎрЃљрЃфрЃў\nРђб VIP 7 рЃЊрЃдрЃћ: $1,200/рЃЎрЃљрЃфрЃў\n\n­ЪјЅ рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃћрЃЉрЃў:\nРђб 4+ рЃЎрЃљрЃфрЃў: 15% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ\nРђб 30+ рЃЊрЃдрЃўрЃЌ рЃљрЃЊрЃарЃћ: 10% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ\nРђб VIP рЃбрЃБрЃарЃў: $400 рЃЊрЃљрЃќрЃЮрЃњрЃЋрЃљ ($1,600Рєњ$1,200)\n\nрЃДрЃЋрЃћрЃџрЃљ рЃцрЃљрЃАрЃерЃў рЃерЃћрЃЊрЃўрЃА рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў рЃЊрЃљ рЃЎрЃЋрЃћрЃЉрЃљ! ­ЪЇй№ИЈ'
    },

    // рЃ»рЃљрЃЋрЃерЃљрЃюрЃў
    {
      kw: ['book','reserve','рЃЊрЃљрЃ»рЃљрЃЋрЃерЃю','booking','рЃ»рЃљрЃЋрЃерЃљрЃюрЃў','рЃарЃЮрЃњрЃЮрЃа рЃЋрЃ»рЃљрЃЋрЃерЃю','when','рЃарЃЮрЃЏрЃћрЃџ рЃарЃўрЃфрЃ«рЃЋ','рЃЊрЃљрЃЌрЃљрЃарЃўрЃд'],
      r: '­ЪЊЁ рЃ»рЃљрЃЋрЃерЃљрЃюрЃў рЃФрЃљрЃџрЃўрЃљрЃю рЃЏрЃљрЃарЃбрЃўрЃЋрЃўрЃљ:\n\n1№ИЈРЃБ рЃАрЃљрЃўрЃбрЃќрЃћ "рЃ»рЃљрЃЋрЃерЃљрЃюрЃў" рЃњрЃљрЃюрЃДрЃЮрЃцрЃўрЃџрЃћрЃЉрЃљ Рєњ рЃерЃћрЃљрЃЋрЃАрЃћ рЃцрЃЮрЃарЃЏрЃљ\n2№ИЈРЃБ WhatsApp: +995 555 100 200\n3№ИЈРЃБ Email: info@georgiatrips.ge\n\nРюЁ 2 рЃАрЃљрЃљрЃЌрЃерЃў рЃЊрЃљрЃЋрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћрЃЉрЃЌ\nРюЁ рЃЮрЃюрЃџрЃљрЃўрЃю рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃљ рЃљрЃю рЃљрЃЊрЃњрЃўрЃџрЃќрЃћ\nРюЁ рЃБрЃцрЃљрЃАрЃЮ рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ 48 рЃАрЃљрЃљрЃЌрЃљрЃЏрЃЊрЃћ\n\nрЃарЃЮрЃЏрЃћрЃџ рЃбрЃБрЃарЃќрЃћ рЃЊрЃљ рЃарЃЮрЃЏрЃћрЃџ рЃЌрЃљрЃарЃўрЃдрЃА рЃцрЃўрЃЦрЃарЃЮрЃЉ?'
    },

    // рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў
    {
      kw: ['tbilisi','рЃЌрЃЉрЃўрЃџрЃўрЃА','old town','рЃФрЃЋрЃћрЃџрЃў рЃЦрЃљрЃџрЃљрЃЦ','narikala','рЃюрЃљрЃарЃўрЃДрЃљрЃџ','metekhi','рЃЏрЃћрЃбрЃћрЃ«','sulfur','рЃњрЃЮрЃњрЃўрЃарЃЊ','rustaveli','рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџ'],
      r: '­ЪЈЏ№ИЈ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃбрЃБрЃарЃў Рђћ $150 | 8 рЃАрЃљрЃљрЃЌрЃў | рЃЏрЃљрЃЦрЃА 15 рЃЎрЃљрЃфрЃў\n\n­ЪЊЇ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\nРђб рЃюрЃљрЃарЃўрЃДрЃљрЃџрЃљрЃА рЃфрЃўрЃ«рЃћ (рЃърЃљрЃюрЃЮрЃарЃљрЃЏрЃБрЃџрЃў рЃ«рЃћрЃЊрЃў)\nРђб рЃЏрЃћрЃбрЃћрЃ«рЃўрЃА рЃћрЃЎрЃџрЃћрЃАрЃўрЃљ\nРђб рЃАрЃўрЃЮрЃюрЃўрЃА рЃбрЃљрЃФрЃљрЃарЃў\nРђб рЃФрЃЋрЃћрЃџрЃў рЃЦрЃљрЃарЃЋрЃљрЃАрЃџрЃљ\nРђб рЃњрЃЮрЃњрЃўрЃарЃЊрЃўрЃА рЃњрЃљрЃЏрЃљрЃ»рЃљрЃюрЃАрЃљрЃдрЃћрЃЉрЃћрЃџрЃў рЃљрЃЉрЃљрЃюрЃЮрЃћрЃЉрЃў\nРђб рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃ«рЃћрЃџрЃюрЃљрЃЎрЃћрЃЌрЃЮрЃЉрЃћрЃЉрЃўрЃА рЃЉрЃљрЃќрЃљрЃарЃў\nРђб рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџрЃўрЃА рЃњрЃљрЃЏрЃќрЃўрЃарЃў\nРђб рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЋрЃљрЃ«рЃерЃљрЃЏрЃў (рЃдрЃЋрЃўрЃюрЃЮ рЃЕрЃљрЃЌрЃЋрЃџрЃўрЃџрЃў)\n\nРюЁ рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃўрЃюрЃњрЃџ/рЃЦрЃљрЃарЃЌ. рЃњрЃўрЃЊрЃў, рЃАрЃљрЃЊрЃўрЃџрЃў, рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃћрЃЉрЃў\n\n­ЪЊъ рЃ»рЃљрЃЋрЃерЃљрЃюрЃў: +995 555 100 200'
    },

    // рЃДрЃљрЃќрЃЉрЃћрЃњрЃў
    {
      kw: ['kazbegi','рЃДрЃљрЃќрЃЉрЃћрЃњ','gergeti','рЃњрЃћрЃарЃњрЃћрЃЌ','caucasus','рЃЎрЃљрЃЋрЃЎрЃљрЃАрЃў','mountain','рЃЏрЃЌ','stepantsminda','рЃАрЃбрЃћрЃцрЃљрЃюрЃгрЃЏрЃўрЃюрЃЊ','dariali','рЃЊрЃљрЃарЃўрЃљрЃџ'],
      r: '­ЪЈћ№ИЈ рЃДрЃљрЃќрЃЉрЃћрЃњрЃўрЃА рЃбрЃБрЃарЃў Рђћ $280 | 2 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 10 рЃЎрЃљрЃфрЃў РГљ\n\n­ЪЊЇ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\nрЃЊрЃдрЃћ 1: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рєњ рЃЪрЃўрЃюрЃЋрЃљрЃџрЃўрЃА рЃгрЃДрЃљрЃџрЃАрЃљрЃфрЃљрЃЋрЃў Рєњ рЃњрЃБрЃЊрЃљрЃБрЃарЃў (2195рЃЏ) Рєњ рЃАрЃбрЃћрЃцрЃљрЃюрЃгрЃЏрЃўрЃюрЃЊрЃљ\nрЃЊрЃдрЃћ 2: рЃњрЃћрЃарЃњрЃћрЃЌрЃўрЃА рЃАрЃљрЃЏрЃћрЃЉрЃљ (2170рЃЏ) 4WD рЃ»рЃўрЃърЃўрЃЌ Рєњ рЃЊрЃљрЃарЃўрЃљрЃџрЃўрЃА рЃ«рЃћрЃЮрЃЉрЃљ Рєњ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў\n\nРюЁ рЃерЃћрЃЊрЃўрЃА:\nРђб VIP рЃЏрЃўрЃюрЃўрЃЉрЃБрЃАрЃў\nРђб 4WD рЃ»рЃўрЃърЃў рЃЏрЃЌрЃўрЃА рЃњрЃљрЃАрЃљрЃЋрЃџрЃћрЃџрЃљрЃЊ\nРђб 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃАрЃбрЃћрЃцрЃљрЃюрЃгрЃЏрЃўрЃюрЃЊрЃљрЃерЃў\nРђб 3 рЃЎрЃЋрЃћрЃЉрЃљ (рЃАрЃљрЃБрЃќрЃЏрЃћ, рЃАрЃљрЃЊрЃўрЃџрЃў, рЃЋрЃљрЃ«рЃерЃљрЃЏрЃў)\nРђб рЃърЃарЃЮрЃц. рЃњрЃўрЃЊрЃў\n\n­ЪЊЁ рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃърЃћрЃарЃўрЃЮрЃЊрЃў: рЃЏрЃљрЃўрЃАрЃў Рђћ рЃЮрЃЦрЃбрЃЮрЃЏрЃЉрЃћрЃарЃў\n­Ъњ░ рЃцрЃљрЃАрЃў: $280 (рЃўрЃДрЃЮ $360)'
    },

    // рЃЎрЃљрЃ«рЃћрЃЌрЃў / рЃдрЃЋрЃўрЃюрЃЮ
    {
      kw: ['kakheti','рЃЎрЃљрЃ«рЃћрЃЌ','wine','рЃдрЃЋрЃўрЃю','vineyard','рЃЋрЃћрЃюрЃљрЃ«','signagi','рЃАрЃўрЃдрЃюрЃљрЃд','bodbe','рЃЉрЃЮрЃЊрЃЉ','alazani','рЃљрЃџрЃљрЃќрЃю','winery','рЃЏрЃљрЃарЃљрЃюрЃў','рЃЊрЃћрЃњрЃБрЃАрЃб'],
      r: '­ЪЇи рЃЎрЃљрЃ«рЃћрЃЌрЃўрЃА рЃбрЃБрЃарЃў Рђћ $120 | 1 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 15 рЃЎрЃљрЃфрЃў\n\n­ЪЊЇ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\nРђб рЃАрЃўрЃдрЃюрЃљрЃдрЃў Рђћ "рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃўрЃА рЃЦрЃљрЃџрЃљрЃЦрЃў" (рЃЎрЃћрЃЊрЃџрЃћрЃЉрЃў, рЃърЃљрЃюрЃЮрЃарЃљрЃЏрЃљ)\nРђб рЃгрЃЏ. рЃюрЃўрЃюрЃЮрЃА рЃАрЃљрЃЏрЃљрЃарЃ«рЃў Рђћ рЃЉрЃЮрЃЊрЃЉрЃўрЃА рЃЏрЃЮрЃюрЃљрЃАрЃбрЃћрЃарЃў\nРђб рЃЮрЃ»рЃљрЃ«рЃБрЃарЃў рЃдрЃЋрЃўрЃюрЃўрЃА рЃЏрЃљрЃарЃљрЃюрЃў Рђћ рЃЦрЃЋрЃћрЃЋрЃарЃћрЃЉрЃў\nРђб рЃдрЃЋрЃўрЃюрЃўрЃА рЃЊрЃћрЃњрЃБрЃАрЃбрЃљрЃфрЃўрЃљ (5+ рЃАрЃљрЃ«рЃћрЃЮрЃЉрЃљ)\nРђб рЃљрЃџрЃљрЃЋрЃћрЃарЃЊрЃўрЃА рЃбрЃљрЃФрЃљрЃарЃў (XI рЃА.)\nРђб рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃљрЃЊрЃўрЃџрЃў Рђћ рЃЕрЃљрЃ«рЃЮрЃ«рЃЉрЃўрЃџрЃў, рЃЏрЃфрЃЋрЃљрЃЊрЃў\n\nРюЁ рЃерЃћрЃЊрЃўрЃА: рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў, рЃњрЃўрЃЊрЃў, рЃдрЃЋрЃўрЃюрЃўрЃА рЃЊрЃћрЃњрЃБрЃАрЃбрЃљрЃфрЃўрЃљ, рЃАрЃљрЃЊрЃўрЃџрЃў\n­ЪЇЙ рЃцрЃљрЃЦрЃбрЃў: рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃдрЃЋрЃўрЃюрЃўрЃА рЃАрЃљрЃЏрЃерЃЮрЃЉрЃџрЃЮрЃљ Рђћ 8,000 рЃгрЃџрЃўрЃА рЃбрЃарЃљрЃЊрЃўрЃфрЃўрЃљ!'
    },

    // рЃЉрЃљрЃЌрЃБрЃЏрЃў
    {
      kw: ['batumi','рЃЉрЃљрЃЌрЃБрЃЏ','beach','рЃАрЃљрЃюрЃљрЃърЃўрЃарЃЮ','black sea','рЃерЃљрЃЋрЃў рЃќрЃдрЃЋ','botanical','рЃЉрЃЮрЃбрЃљрЃюрЃўрЃЎ','adjara','рЃљрЃГрЃљрЃа','sea'],
      r: '­Ъїі рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃбрЃБрЃарЃў Рђћ $250 | 2 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 12 рЃЎрЃљрЃфрЃў\n\n­ЪЊЇ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\nрЃЊрЃдрЃћ 1: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рєњ рЃЉрЃљрЃЌрЃБрЃЏрЃў (рЃљрЃЋрЃбрЃЮрЃАрЃљрЃњрЃќрЃљрЃЮ) Рєњ рЃЉрЃБрЃџрЃЋрЃљрЃарЃў Рєњ рЃдрЃљрЃЏрЃўрЃА рЃЦрЃљрЃџрЃљрЃЦрЃў\nрЃЊрЃдрЃћ 2: рЃЉрЃЮрЃбрЃљрЃюрЃўрЃЎрЃБрЃарЃў рЃЉрЃљрЃдрЃў Рєњ рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃфрЃўрЃ«рЃћ Рєњ рЃЉрЃљрЃЌрЃБрЃЏрЃўрЃА рЃбрЃЉрЃљ Рєњ рЃЏрЃљрЃ«рЃўрЃюрЃ»рЃљрЃБрЃарЃў\n\nРюЁ рЃерЃћрЃЊрЃўрЃА:\nРђб рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў\nРђб 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃќрЃдрЃЋрЃўрЃА рЃ«рЃћрЃЊрЃўрЃЌ\nРђб рЃАрЃљрЃБрЃќрЃЏрЃћ\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃћрЃЎрЃАрЃЎрЃБрЃарЃАрЃўрЃљ\nРђб рЃърЃарЃЮрЃц. рЃњрЃўрЃЊрЃў\n\n­ЪїА№ИЈ рЃАрЃћрЃќрЃЮрЃюрЃў: рЃўрЃЋрЃюрЃўрЃАрЃў-рЃАрЃћрЃЦрЃбрЃћрЃЏрЃЉрЃћрЃарЃў рЃќрЃдрЃЋрЃљ, рЃгрЃџрЃўрЃА рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃа рЃЊрЃарЃЮрЃА рЃћрЃЎрЃАрЃЎрЃБрЃарЃАрЃўрЃљ'
    },

    // рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў
    {
      kw: ['svaneti','рЃАрЃЋрЃљрЃюрЃћрЃЌ','mestia','рЃЏрЃћрЃАрЃб','tower','рЃЎрЃЮрЃерЃЎ','unesco','adishi','рЃљрЃЊрЃўрЃе','trekking','рЃбрЃарЃћрЃЎрЃўрЃюрЃњ','alpine','alpuri','svan'],
      r: '­ЪЌ╝ рЃАрЃЋрЃљрЃюрЃћрЃЌрЃўрЃА рЃбрЃБрЃарЃў Рђћ $420 | 3 рЃЊрЃдрЃћ | рЃЏрЃљрЃЦрЃА 8 рЃЎрЃљрЃфрЃў\n\n­ЪЊЇ рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\nрЃЊрЃдрЃћ 1: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рєњ рЃќрЃБрЃњрЃЊрЃўрЃЊрЃў Рєњ рЃЏрЃћрЃАрЃбрЃўрЃљ (рЃАрЃЋрЃљрЃюрЃБрЃарЃў рЃЎрЃЮрЃерЃЎрЃћрЃЉрЃў)\nрЃЊрЃдрЃћ 2: рЃљрЃЊрЃўрЃерЃў Рєњ рЃЕрЃљрЃЪрЃЋрЃљрЃАрЃў Рєњ рЃ░рЃћрЃбрЃЋрЃљрЃџрЃўрЃА рЃЏрЃДрЃўрЃюрЃЋрЃљрЃарЃў\nрЃЊрЃдрЃћ 3: рЃ░рЃљрЃБрЃарЃў рЃбрЃЉрЃљ Рєњ рЃЏрЃБрЃќрЃћрЃБрЃЏрЃў Рєњ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў\n\nРюЁ рЃерЃћрЃЊрЃўрЃА:\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў\nРђб рЃАрЃЋрЃљрЃюрЃБрЃарЃў рЃЮрЃ»рЃљрЃ«рЃў рЃљрЃю 3РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ\nРђб 6 рЃЎрЃЋрЃћрЃЉрЃљ\nРђб рЃАрЃЋрЃљрЃюрЃў рЃњрЃўрЃЊрЃў\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў\n\n­ЪЈє UNESCO рЃЏрЃАрЃЮрЃцрЃџрЃўрЃЮ рЃЏрЃћрЃЏрЃЎрЃЋрЃўрЃЊрЃарЃћрЃЮрЃЉрЃљ\n­ЪЊЁ рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ: рЃўрЃЋрЃюрЃўрЃАрЃў Рђћ рЃАрЃћрЃЦрЃбрЃћрЃЏрЃЉрЃћрЃарЃў'
    },

    // VIP 7 рЃЊрЃдрЃћ
    {
      kw: ['7 day','7-day','week','7 рЃЊрЃд','vip','full','рЃАрЃарЃБрЃџ','complete','рЃДрЃЋрЃћрЃџрЃљ','рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃА','package deal'],
      r: '­ЪЉЉ VIP 7-рЃЊрЃдрЃўрЃљрЃюрЃў рЃбрЃБрЃарЃў Рђћ $1,200 | рЃЏрЃљрЃЦрЃА 6 рЃЎрЃљрЃфрЃў\n\n­ЪЊЇ рЃАрЃарЃБрЃџрЃў рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў:\n­ЪЌЊ рЃЊрЃдрЃћ 1: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рђћ рЃФрЃЋрЃћрЃџрЃў рЃЦрЃљрЃџрЃљрЃЦрЃў, рЃюрЃљрЃарЃўрЃДрЃљрЃџрЃљ\n­ЪЌЊ рЃЊрЃдрЃћ 2: рЃЏрЃфрЃ«рЃћрЃЌрЃљ Рђћ рЃ»рЃЋрЃљрЃарЃў, рЃАрЃЋрЃћрЃбрЃўрЃфрЃ«рЃЮрЃЋрЃћрЃџрЃў\n­ЪЌЊ рЃЊрЃдрЃћ 3-4: рЃДрЃљрЃќрЃЉрЃћрЃњрЃў Рђћ рЃњрЃћрЃарЃњрЃћрЃЌрЃў, 4WD\n­ЪЌЊ рЃЊрЃдрЃћ 5: рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ рЃЏрЃћрЃАрЃбрЃўрЃљ\n­ЪЌЊ рЃЊрЃдрЃћ 6: рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ рЃдрЃЋрЃўрЃюрЃЮ, рЃАрЃўрЃдрЃюрЃљрЃдрЃў\n­ЪЌЊ рЃЊрЃдрЃћ 7: рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ рЃерЃљрЃЋрЃў рЃќрЃдрЃЋрЃљ\n\nРюЁ рЃерЃћрЃЊрЃўрЃА р▓Др▓Ћр▓ћр▓џр▓љр▓цр▓ћр▓ар▓ў:\nРђб 5РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮрЃћрЃЉрЃў\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃЎрЃЋрЃћрЃЉрЃљ (21 рЃЎрЃЋрЃћрЃЉрЃљ)\nРђб рЃърЃўрЃарЃљрЃЊрЃў рЃњрЃўрЃЊрЃў 7 рЃЊрЃдрЃћ\nРђб VIP рЃЏрЃљрЃюрЃЦрЃљрЃюрЃљ рЃЏрЃФрЃдрЃЮрЃџрЃўрЃЌ\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў\nРђб рЃдрЃЋрЃўрЃюрЃЮ рЃЊрЃљ рЃљрЃЊрЃњрЃўрЃџрЃЮрЃЉрЃарЃўрЃЋрЃў рЃАрЃљрЃАрЃЏрЃћрЃџрЃў\nРђб рЃљрЃћрЃарЃЮрЃърЃЮрЃарЃбрЃўрЃА рЃбрЃарЃљрЃюрЃАрЃцрЃћрЃарЃў\n\n­Ъњ░ $1,200 (рЃюрЃЮрЃЏрЃўрЃюрЃљрЃџрЃБрЃарЃў $1,600 Рђћ рЃЊрЃљрЃќрЃЮрЃњрЃћ $400!)'
    },

    // рЃАрЃљрЃГрЃЏрЃћрЃџрЃў
    {
      kw: ['food','eat','cuisine','khinkali','рЃ«рЃўрЃюрЃЎрЃљрЃџ','khachapuri','рЃ«рЃљрЃГрЃљрЃърЃБрЃа','mtsvadi','рЃЏрЃфрЃЋрЃљрЃЊ','churchkhela','churchkhela','рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџ','restaurant','рЃарЃћрЃАрЃбрЃЮрЃа','рЃАрЃљрЃГрЃЏ','dinner','рЃЋрЃљрЃ«рЃерЃљрЃЏ','lunch','рЃАрЃљрЃЊрЃўрЃџ'],
      r: '­ЪЇй№ИЈ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮ Рђћ рЃЏрЃАрЃЮрЃцрЃџрЃўрЃЮрЃА рЃћрЃарЃЌ-рЃћрЃарЃЌрЃў рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ!\n\nрЃДрЃЋрЃћрЃџрЃљ рЃбрЃБрЃарЃерЃў рЃерЃћрЃЊрЃўрЃА рЃљрЃЋрЃЌрЃћрЃюрЃбрЃБрЃарЃў рЃЎрЃЋрЃћрЃЉрЃљ:\n\nРђб ­ЪЦЪ рЃ«рЃўрЃюрЃЎрЃљрЃџрЃў Рђћ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃърЃћрЃџрЃЏрЃћрЃюрЃў (рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃ«рЃћрЃџрЃўрЃЌ рЃГрЃљрЃЏрЃЮ!)\nРђб ­ЪФЊ рЃ«рЃљрЃГрЃљрЃърЃБрЃарЃў Рђћ рЃфрЃЮрЃЏрЃў рЃДрЃЋрЃћрЃџрЃўрЃЌ (рЃљрЃЊрЃЪрЃљрЃарЃБрЃџрЃў = рЃЎрЃЋрЃћрЃарЃфрЃ«рЃўрЃЌ)\nРђб ­ЪЦЕ рЃЏрЃфрЃЋрЃљрЃЊрЃў Рђћ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃерЃљрЃерЃџрЃўрЃЎрЃў\nРђб ­ЪЇи рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃдрЃЋрЃўрЃюрЃЮ Рђћ 8000 рЃгрЃџрЃўрЃА рЃбрЃарЃљрЃЊрЃўрЃфрЃўрЃљ\nРђб ­ЪЇг рЃЕрЃБрЃарЃЕрЃ«рЃћрЃџрЃљ Рђћ рЃДрЃБрЃарЃФрЃюрЃўрЃА рЃбрЃЎрЃЉрЃўрЃџрЃћрЃБрЃџрЃў\nРђб ­ЪЦЌ рЃцрЃ«рЃљрЃџрЃў, рЃАрЃБрЃцрЃарЃљ, рЃЉрЃљрЃЊрЃарЃўрЃ»рЃљрЃюрЃў\n\n­ЪјЅ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃАрЃБрЃцрЃарЃљ = рЃќрЃћрЃўрЃЏрЃў! рЃбрЃљрЃЏрЃљрЃЊрЃљ, рЃбрЃЮрЃАрЃбрЃћрЃЉрЃў, рЃАрЃўрЃЏрЃдрЃћрЃарЃљ!'
    },

    // рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ
    {
      kw: ['hotel','accommodation','stay','рЃАрЃљрЃАрЃбрЃБрЃЏрЃа','room','рЃЮрЃЌрЃљрЃ«','bed','sleep','overnight','рЃдрЃљрЃЏрЃћ','hostel','guest'],
      r: '­ЪЈе рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮрЃћрЃЉрЃў рЃЕрЃЋрЃћрЃюрЃА рЃбрЃБрЃарЃћрЃЉрЃерЃў:\n\nРђб рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў (1 рЃЊрЃдрЃћ): рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃљрЃа рЃерЃћрЃЊрЃўрЃА\nРђб рЃЎрЃљрЃ«рЃћрЃЌрЃў (1 рЃЊрЃдрЃћ): рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃљрЃа рЃерЃћрЃЊрЃўрЃА\nРђб рЃДрЃљрЃќрЃЉрЃћрЃњрЃў (2 рЃЊрЃдрЃћ): 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃАрЃбрЃћрЃцрЃљрЃюрЃгрЃЏрЃўрЃюрЃЊрЃљрЃерЃў РюЁ\nРђб рЃЉрЃљрЃЌрЃБрЃЏрЃў (2 рЃЊрЃдрЃћ): 4РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ рЃќрЃдрЃЋрЃўрЃА рЃ«рЃћрЃЊрЃўрЃЌ РюЁ\nРђб рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў (3 рЃЊрЃдрЃћ): рЃАрЃЋрЃљрЃюрЃБрЃарЃў рЃЮрЃ»рЃљрЃ«рЃў рЃљрЃю 3РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ РюЁ\nРђб VIP 7 рЃЊрЃдрЃћ: 5РўЁ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮрЃћрЃЉрЃў РюЁ\n\n­ЪњА рЃЕрЃЋрЃћрЃю рЃљрЃАрЃћрЃЋрЃћ рЃЋрЃћрЃ«рЃЏрЃљрЃарЃћрЃЉрЃўрЃЌ рЃфрЃљрЃџрЃЎрЃћ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮрЃА рЃ»рЃљрЃЋрЃерЃљрЃюрЃерЃў!\nрЃЊрЃљрЃњрЃЋрЃўрЃЎрЃљрЃЋрЃерЃўрЃарЃЊрЃў: +995 555 100 200'
    },

    // рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃљ
    {
      kw: ['safe','safety','security','danger','unsafe','crime','рЃърЃЮрЃџрЃўрЃфрЃўл░','рЃБрЃАрЃљрЃцрЃарЃЌрЃ«','dangerous','рЃарЃўрЃАрЃЎ'],
      r: 'РюЁ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃбрЃБрЃарЃўрЃАрЃбрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃћрЃарЃЌ-рЃћрЃарЃЌрЃў рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃЦрЃЋрЃћрЃДрЃљрЃюрЃљрЃљ!\n\n­ЪЏА№ИЈ рЃЕрЃЋрЃћрЃюрЃў рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃћрЃЉрЃў:\nРђб GPS-рЃўрЃЌ рЃљрЃдрЃГрЃБрЃарЃЋрЃўрЃџрЃў рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃљрЃюрЃЦрЃљрЃюрЃљ\nРђб рЃАрЃћрЃарЃбрЃўрЃцрЃўрЃфрЃўрЃарЃћрЃЉрЃБрЃџрЃў, рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃў рЃњрЃўрЃЊрЃћрЃЉрЃў\nРђб 24/7 рЃАрЃљрЃњрЃљрЃюрЃњрЃћрЃЉрЃЮ рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ\nРђб рЃЊрЃљрЃќрЃдрЃЋрЃћрЃЋрЃљ (рЃАрЃБрЃарЃЋрЃўрЃџрЃўрЃАрЃљрЃЏрЃћрЃЉрЃа)\nРђб рЃ»рЃљрЃюрЃЊрЃљрЃфрЃЋрЃўрЃА рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ\n\n­ЪЊі рЃцрЃљрЃЦрЃбрЃў: Georgia Safe Travel Index-рЃќрЃћ рЃћрЃЋрЃарЃЮрЃърЃўрЃА TOP 10-рЃерЃўрЃљ.\nрЃЕрЃЋрЃћрЃю 12 рЃгрЃћрЃџрЃўрЃљ рЃЋрЃЏрЃБрЃерЃљрЃЮрЃЉрЃЌ Рђћ рЃљрЃарЃф рЃћрЃарЃЌрЃў рЃўрЃюрЃфрЃўрЃЊрЃћрЃюрЃбрЃў!'
    },

    // рЃљрЃЏрЃўрЃюрЃЊрЃў / рЃАрЃћрЃќрЃЮрЃюрЃў
    {
      kw: ['weather','season','best time','when','climate','рЃљрЃЏрЃўрЃюрЃЊ','рЃАрЃћрЃќрЃЮрЃю','рЃарЃЮрЃЊрЃўрЃА','spring','summer','fall','winter','winter','рЃњрЃљрЃќрЃљрЃцрЃ«рЃБрЃџ','рЃќрЃљрЃцрЃ«рЃБрЃџ','рЃерЃћрЃЏрЃЮрЃЊрЃњрЃЮрЃЏ','рЃќрЃљрЃЏрЃЌрЃљрЃа'],
      r: 'Рўђ№ИЈ рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃЋрЃўрЃќрЃўрЃбрЃўрЃА рЃЊрЃарЃЮ:\n\n­ЪїИ рЃњрЃљрЃќрЃљрЃцрЃ«рЃБрЃџрЃў (рЃЏрЃљрЃарЃбрЃў-рЃЏрЃљрЃўрЃАрЃў):\nРђб рЃДрЃЋрЃљрЃЋрЃўрЃџрЃЮрЃЉрЃљ, рЃЏрЃгрЃЋрЃљрЃюрЃћ рЃЉрЃБрЃюрЃћрЃЉрЃљ\nРђб рЃДрЃљрЃќрЃЉрЃћрЃњрЃў, рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў Рђћ рЃўрЃЊрЃћрЃљрЃџрЃБрЃарЃў\nРђб рЃбрЃћрЃЏрЃъ: 15-22┬░C\n\nРўђ№ИЈ рЃќрЃљрЃцрЃ«рЃБрЃџрЃў (рЃўрЃЋрЃюрЃўрЃАрЃў-рЃљрЃњрЃЋрЃўрЃАрЃбрЃЮ):\nРђб рЃЉрЃљрЃЌрЃБрЃЏрЃў Рђћ рЃерЃљрЃЋрЃў рЃќрЃдрЃЋрЃљ!\nРђб рЃАрЃўрЃфрЃ«рЃћ рЃЌрЃЉрЃўрЃџрЃўрЃАрЃерЃў (32┬░C+)\nРђб рЃбрЃБрЃарЃўрЃАрЃбрЃћрЃЉрЃўрЃА рЃАрЃћрЃќрЃЮрЃюрЃў\n\n­ЪЇѓ рЃерЃћрЃЏрЃЮрЃЊрЃњрЃЮрЃЏрЃљ (рЃАрЃћрЃЦрЃбрЃћрЃЏрЃЉрЃћрЃарЃў-рЃюрЃЮрЃћрЃЏрЃЉрЃћрЃарЃў):\nРђб рЃЎрЃљрЃ«рЃћрЃЌрЃў Рђћ рЃДрЃБрЃарЃФрЃюрЃўрЃА рЃЎрЃарЃћрЃцрЃљ!\nРђб рЃЮрЃЦрЃарЃЮ рЃцрЃЮрЃЌрЃџрЃћрЃЉрЃў рЃАрЃЋрЃљрЃюрЃћрЃЌрЃерЃў\nРђб рЃДрЃЋрЃћрЃџрЃљ рЃбрЃБрЃарЃў РюЁ\n\nРЮё№ИЈ рЃќрЃљрЃЏрЃЌрЃљрЃарЃў (рЃЊрЃћрЃЎрЃћрЃЏрЃЉрЃћрЃарЃў-рЃЌрЃћрЃЉрЃћрЃарЃЋрЃљрЃџрЃў):\nРђб рЃњрЃБрЃЊрЃљрЃБрЃарЃў Рђћ рЃАрЃЎрЃў-рЃЎрЃБрЃарЃЮрЃарЃбрЃў\nРђб рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў Рђћ рЃюрЃљрЃЎрЃџрЃћрЃЉрЃў рЃбрЃБрЃарЃўрЃАрЃбрЃў\nРђб рЃбрЃћрЃЏрЃъ: 2-8┬░C'
    },

    // рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃбрЃў
    {
      kw: ['contact','phone','whatsapp','email','call','рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃб','рЃбрЃћрЃџрЃћрЃцрЃЮрЃю','рЃЏрЃЮрЃњрЃЋрЃгрЃћрЃа','рЃЊрЃљрЃњрЃЋрЃўрЃЎрЃљрЃЋрЃе','reach','where'],
      r: '­ЪЊъ рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃбрЃў:\n\n­ЪЊ▒ рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃў: +995 555 100 200\n­Ъњг WhatsApp: +995 555 100 200\n­ЪЊД Email: info@georgiatrips.ge\n­ЪЊЇ рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў: рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџрЃўрЃА рЃњрЃљрЃЏрЃќ. 42, рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў\n\nРЈ░ рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃАрЃљрЃљрЃЌрЃћрЃЉрЃў:\nрЃЮрЃарЃерЃљрЃЉрЃљрЃЌрЃў-рЃерЃљрЃЉрЃљрЃЌрЃў: 9:00 Рђћ 21:00\nрЃЎрЃЋрЃўрЃарЃљ: 10:00 Рђћ 18:00\n\nРюЁ WhatsApp-рЃќрЃћ рЃърЃљрЃАрЃБрЃ«рЃА 1 рЃАрЃљрЃљрЃЌрЃерЃў рЃЏрЃўрЃЋрЃфрЃћрЃЏрЃЌ!\n­ЪЌБ№ИЈ рЃЋрЃАрЃљрЃБрЃЉрЃарЃЮрЃЉрЃЌ: рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ, рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃарЃљрЃЊ, рЃарЃБрЃАрЃБрЃџрЃљрЃЊ'
    },

    // рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ / рЃЌрЃљрЃюрЃ«рЃўрЃА рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ
    {
      kw: ['cancel','refund','cancell','рЃњрЃљрЃБрЃЦрЃЏ','рЃЌрЃљрЃюрЃ«','рЃЊрЃљрЃЉрЃарЃБрЃю','return','money back','policy'],
      r: 'РюЁ рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃА рЃърЃЮрЃџрЃўрЃбрЃўрЃЎрЃљ:\n\nРђб 48+ рЃАрЃљрЃљрЃЌрЃўрЃЌ рЃљрЃЊрЃарЃћ: 100% рЃЌрЃљрЃюрЃ«рЃўрЃА рЃАрЃарЃБрЃџрЃў рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ\nРђб 24-48 рЃАрЃљрЃљрЃЌрЃўрЃЌ рЃљрЃЊрЃарЃћ: 50% рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ\nРђб 24 рЃАрЃљрЃљрЃЌрЃљрЃЏрЃЊрЃћ: рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ рЃерЃћрЃБрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ\n\n­ЪїД№ИЈ рЃљрЃЏрЃўрЃюрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮ:\nРђб рЃАрЃљрЃ«рЃўрЃцрЃљрЃЌрЃЮ рЃљрЃЏрЃўрЃюрЃЊрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃЕрЃЋрЃћрЃю рЃЋрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃЌ Рђћ 100% рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ рЃљрЃю рЃњрЃљрЃЊрЃљрЃбрЃљрЃюрЃљ\n\n­ЪЊъ рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА: +995 555 100 200\n\nрЃЌрЃЦрЃЋрЃћрЃюрЃў рЃЎрЃЮрЃЏрЃцрЃЮрЃарЃбрЃў рЃЊрЃљ рЃюрЃЊрЃЮрЃЉрЃљ рЃЕрЃЋрЃћрЃюрЃў рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃўрЃљ!'
    },

    // рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ / рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃерЃћрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃљ
    {
      kw: ['discount','promo','group','offer','рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџ','рЃерЃћрЃЌрЃљрЃЋрЃљрЃќ','рЃ»рЃњрЃБрЃц','family','рЃЮрЃ»рЃљрЃ«','cheap','рЃўрЃљрЃцрЃў','рЃАрЃърЃћрЃфрЃўрЃљрЃџ','deal','save'],
      r: '­ЪјЅ рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃерЃћрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃћрЃЉрЃў:\n\n­ЪЉеРђЇ­ЪЉЕРђЇ­ЪЉДРђЇ­ЪЉд рЃ»рЃњрЃБрЃцрЃБрЃарЃў рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ:\nРђб 4-7 рЃЎрЃљрЃфрЃў: 15% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ\nРђб 8+ рЃЎрЃљрЃфрЃў: 20% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ\n\nРЈ░ рЃљрЃЊрЃарЃћрЃБрЃџрЃў рЃ»рЃљрЃЋрЃерЃљрЃюрЃў:\nРђб 30+ рЃЊрЃдрЃўрЃЌ рЃљрЃЊрЃарЃћ: 10% рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ\n\n­ЪЉЉ VIP 7 рЃЊрЃдрЃћ:\nРђб $400 рЃЊрЃљрЃќрЃЮрЃњрЃЋрЃљ ($1,600Рєњ$1,200)\n\n­Ъјѓ рЃЊрЃљрЃЉрЃљрЃЊрЃћрЃЉрЃўрЃА рЃЊрЃдрЃћ:\nРђб рЃбрЃБрЃарЃќрЃћ рЃБрЃцрЃљрЃАрЃЮ рЃбрЃЮрЃарЃбрЃў + рЃАрЃўрЃБрЃарЃърЃарЃўрЃќрЃў ­Ъјѓ\n\n­ЪЊъ рЃЎрЃўрЃЊрЃћрЃЋ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃў рЃцрЃљрЃАрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЊрЃљрЃњрЃЋрЃўрЃЎрЃљрЃЋрЃерЃўрЃарЃЊрЃў:\n+995 555 100 200'
    },

    // рЃбрЃарЃљрЃюрЃАрЃцрЃћрЃарЃў / рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў
    {
      kw: ['transport','transfer','car','bus','vehicle','driver','airport','рЃљрЃћрЃарЃЮрЃърЃЮрЃарЃб','рЃбрЃарЃљрЃюрЃАрЃц','рЃЏрЃљрЃюрЃЦрЃљрЃю','рЃљрЃЋрЃбрЃЮрЃЉрЃБрЃА','рЃЏрЃФрЃдрЃЮрЃџ','pick up'],
      r: '­ЪџЌ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў:\n\nрЃДрЃЋрЃћрЃџрЃљ рЃбрЃБрЃарЃерЃў рЃерЃћрЃЊрЃўрЃА рЃърЃарЃћрЃЏрЃўрЃБрЃЏ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў:\nРђб рЃЏрЃўрЃюрЃўрЃЉрЃБрЃАрЃў (1-15 рЃЎрЃљрЃфрЃў) Рђћ рЃЎрЃЮрЃюрЃЊ., WiFi, рЃгрЃДрЃљрЃџрЃў\nРђб VIP рЃЏрЃўрЃЎрЃарЃЮрЃљрЃЋрЃбрЃЮрЃЉрЃБрЃАрЃў\nРђб 4WD рЃ»рЃўрЃърЃў рЃЏрЃЌрЃўрЃљрЃюрЃў рЃњрЃќрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА (рЃДрЃљрЃќрЃЉрЃћрЃњрЃў, рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў)\n\nРюѕ№ИЈ рЃљрЃћрЃарЃЮрЃърЃЮрЃарЃбрЃўрЃА рЃбрЃарЃљрЃюрЃАрЃцрЃћрЃарЃў:\nРђб рЃЌрЃЉрЃўрЃџрЃўрЃАрЃўрЃА рЃљрЃћрЃарЃЮрЃърЃЮрЃарЃбрЃў Рєњ рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ: $25\nРђб рЃАрЃљрЃАрЃбрЃБрЃЏрЃарЃЮ Рєњ рЃљрЃћрЃарЃЮрЃърЃЮрЃарЃбрЃў: $25\nРђб VIP рЃбрЃБрЃарЃерЃў рЃЕрЃљрЃЌрЃЋрЃџрЃўрЃџрЃўрЃљ РюЁ\n\n­ЪЊъ рЃфрЃљрЃџрЃЎрЃћ рЃбрЃарЃљрЃюрЃАрЃцрЃћрЃарЃў: +995 555 100 200'
    },

    // рЃњрЃўрЃЊрЃў
    {
      kw: ['guide','рЃњрЃўрЃЊ','language','рЃћрЃю','english','рЃўрЃюрЃњрЃџрЃўрЃА','georgian','рЃЦрЃљрЃарЃЌ','russian','рЃарЃБрЃАрЃБрЃџ','local','рЃљрЃЊрЃњрЃўрЃџрЃЮрЃЉрЃа'],
      r: '­Ъјц рЃЕрЃЋрЃћрЃюрЃў рЃњрЃўрЃЊрЃћрЃЉрЃў:\n\nРюЁ рЃАрЃћрЃарЃбрЃўрЃцрЃўрЃфрЃўрЃарЃћрЃЉрЃБрЃџрЃў, рЃџрЃўрЃфрЃћрЃюрЃќрЃўрЃарЃћрЃЉрЃБрЃџрЃў\nРюЁ 5+ рЃгрЃџрЃўрЃА рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ\nРюЁ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃўрЃАрЃбрЃЮрЃарЃўрЃўрЃА рЃдрЃарЃЏрЃљ рЃфрЃЮрЃЊрЃюрЃљ\n\n­ЪЌБ№ИЈ рЃћрЃюрЃћрЃЉрЃў:\nРђб рЃЦрЃљрЃарЃЌрЃБрЃџрЃў РюЁ\nРђб рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃарЃў РюЁ\nРђб рЃарЃБрЃАрЃБрЃџрЃў РюЁ\nРђб рЃњрЃћрЃарЃЏрЃљрЃюрЃБрЃџрЃў (рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃЌ)\nРђб рЃцрЃарЃљрЃюрЃњрЃБрЃџрЃў (рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃЌ)\n\n­ЪњА рЃДрЃЋрЃћрЃџрЃљ рЃЕрЃЋрЃћрЃюрЃў рЃњрЃўрЃЊрЃў рЃљрЃЊрЃњрЃўрЃџрЃЮрЃЉрЃарЃўрЃЋрЃўрЃљ Рђћ рЃўрЃАрЃўрЃюрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃА рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃўрЃЌ рЃњрЃљрЃ«рЃАрЃюрЃўрЃљрЃю! ­ЪЄг­ЪЄф'
    },

    // рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃќрЃЮрЃњрЃљрЃЊрЃљрЃЊ
    {
      kw: ['georgia','рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџ','country','рЃЦрЃЋрЃћрЃДрЃљрЃю','culture','рЃЎрЃБрЃџрЃбрЃБрЃа','history','рЃўрЃАрЃбрЃЮрЃа','religion','рЃарЃћрЃџрЃўрЃњ','orthodox','рЃЏрЃљрЃарЃЌрЃџрЃЏрЃљрЃЊ','church','рЃћрЃЎрЃџрЃћрЃА'],
      r: '­ЪЄг­ЪЄф рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ Рђћ рЃћрЃЋрЃарЃЮрЃърЃўрЃАрЃљ рЃЊрЃљ рЃљрЃќрЃўрЃўрЃА рЃњрЃљрЃАрЃљрЃДрЃљрЃарЃќрЃћ:\n\n­ЪЊі рЃцрЃљрЃЦрЃбрЃћрЃЉрЃў:\nРђб рЃЊрЃћрЃЊрЃљрЃЦрЃљрЃџрЃљрЃЦрЃў: рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў (1,5 рЃЏрЃџрЃю. рЃЏрЃЮрЃАрЃљрЃ«.)\nРђб рЃћрЃюрЃљ: рЃЦрЃљрЃарЃЌрЃБрЃџрЃў (рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў рЃљрЃюрЃЉрЃљрЃюрЃў)\nРђб рЃарЃћрЃџрЃўрЃњрЃўрЃљ: рЃЏрЃљрЃарЃЌрЃџрЃЏрЃљрЃЊрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў рЃЦрЃарЃўрЃАрЃбрЃўрЃљрЃюрЃЮрЃЉрЃљ (IV рЃА-рЃЊрЃљрЃю)\nРђб рЃЋрЃљрЃџрЃБрЃбрЃљ: рЃџрЃљрЃарЃў (GEL) Рђћ $1 РЅѕ 2.7 РѓЙ\n\n­ЪЈє UNESCO:\nРђб рЃАрЃЋрЃљрЃюрЃћрЃЌрЃў\nРђб рЃЏрЃфрЃ«рЃћрЃЌрЃљ\nРђб рЃЉрЃЮрЃџрЃюрЃўрЃАрЃўрЃА рЃАрЃўрЃЮрЃюрЃў\nРђб рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃГрЃљрЃЊрЃарЃљрЃЎрЃў ­Ъўё\n\n­ЪЇи рЃдрЃЋрЃўрЃюрЃўрЃА рЃАрЃљрЃЏрЃерЃЮрЃЉрЃџрЃЮ Рђћ 8,000 рЃгрЃћрЃџрЃў\n­Ъјх рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃърЃЮрЃџрЃўрЃцрЃЮрЃюрЃўрЃљ Рђћ UNESCO-рЃА рЃЏрЃћрЃЏрЃЎрЃЋрЃўрЃЊрЃарЃћрЃЮрЃЉрЃљ\n\nрЃЎрЃўрЃЊрЃћрЃЋ рЃарЃљ рЃњрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА?'
    },

    // рЃЏрЃљрЃЊрЃџрЃЮрЃЉрЃљ
    {
      kw: ['thank','thanks','perfect','great','wonderful','amazing','excellent','рЃЏрЃљрЃЊрЃџрЃЮрЃЉ','рЃЎрЃљрЃарЃњрЃў','рЃерЃћрЃАрЃљрЃюрЃўрЃерЃюрЃљрЃЋ','рЃЉрЃарЃљрЃЋрЃЮ','super','рЃАрЃБрЃърЃћрЃа','рЃЏрЃЮрЃњрЃћрЃгрЃЮрЃю'],
      r: '­ЪЎЈ рЃњрЃЏрЃљрЃЊрЃџрЃЮрЃЉрЃЌ! рЃћрЃА рЃЕрЃЋрЃћрЃюрЃЌрЃЋрЃўрЃА рЃФрЃљрЃџрЃўрЃљрЃю рЃЉрЃћрЃЋрЃарЃА рЃюрЃўрЃерЃюрЃљрЃЋрЃА!\n\nGeorgia Premium Trips-рЃў рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃњрЃћрЃџрЃЮрЃЊрЃћрЃЉрЃљ Рђћ рЃЕрЃЋрЃћрЃюрЃў рЃЏрЃўрЃќрЃљрЃюрЃўрЃљ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃЋрЃўрЃќрЃўрЃбрЃў рЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮрЃерЃў рЃАрЃўрЃфрЃЮрЃфрЃ«рЃџрЃўрЃА рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљ рЃњрЃљрЃ«рЃЊрЃћрЃА! ­ЪЄг­ЪЄф\n\nрЃўрЃюрЃцрЃЮ рЃљрЃю рЃ»рЃљрЃЋрЃерЃюрЃў:\n­ЪЊъ +995 555 100 200\n­Ъњг WhatsApp рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃа рЃЊрЃарЃЮрЃА!'
    },

    // рЃњрЃљрЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃћрЃЉрЃљ
    {
      kw: ['bye','goodbye','see you','рЃЏрЃерЃЋрЃўрЃЊрЃЮрЃЉ','рЃюрЃљрЃ«рЃЋрЃљрЃЏрЃЊ','рЃЎрЃљрЃарЃњрЃљрЃЊ','later','soon'],
      r: '­ЪЄг­ЪЄф рЃЏрЃерЃЋрЃўрЃЊрЃЮрЃЉрЃўрЃЌ! Georgia Premium Trips рЃњрЃћрЃџрЃЮрЃЊрЃћрЃЉрЃљ!\n\nрЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃа рЃЊрЃарЃЮрЃА рЃЊрЃљрЃЉрЃарЃБрЃюрЃЊрЃў Рђћ рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃЏрЃќрЃљрЃЊ рЃЋрЃљрЃарЃЌ ­Ъўі\n\n­ЪЊъ +995 555 100 200\n­Ъњг WhatsApp\n\nрЃАрЃљрЃЦрЃљрЃарЃЌрЃЋрЃћрЃџрЃЮ рЃњрЃћрЃџрЃЮрЃЊрЃћрЃЉрЃљ! ­ЪЈћ№ИЈ­ЪЇи­Ъїі'
    },
  ];

  for (const rule of rules) {
    if (rule.kw.some(k => msg.includes(k))) return rule.r;
  }

  return '­ЪЄг­ЪЄф рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ! рЃЏрЃћ рЃЋрЃљрЃа Georgia Premium Trips-рЃўрЃА рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў!\n\nрЃЋрЃБрЃърЃљрЃАрЃБрЃ«рЃћрЃЉ рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃА:\n­ЪЈћ№ИЈ рЃбрЃБрЃарЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ\n­Ъњ░ рЃцрЃљрЃАрЃћрЃЉрЃў рЃЊрЃљ рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃћрЃЉрЃў\n­ЪЊЁ рЃ»рЃљрЃЋрЃерЃљрЃюрЃў\n­ЪЇй№ИЈ рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЎрЃБрЃџрЃбрЃБрЃарЃљ рЃЊрЃљ рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮ\n­ЪџЌ рЃбрЃарЃљрЃюрЃАрЃърЃЮрЃарЃбрЃў рЃЊрЃљ рЃџрЃЮрЃ»рЃўрЃАрЃбрЃўрЃЎрЃљ\n\nрЃљрЃю рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃЊрЃљрЃњрЃЋрЃўрЃЎрЃљрЃЋрЃерЃўрЃарЃЊрЃў:\n­ЪЊъ +995 555 100 200';
}

// РћђРћђРћђ ADMIN API РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ

app.post('/api/admin/login', (req, res) => {
  const { username, password } = req.body;
  const user = db.prepare('SELECT * FROM admin_users WHERE username=?').get(username);
  if (!user || !bcrypt.compareSync(password, user.password_hash)) return res.status(401).json({ error: 'Invalid credentials' });
  const token = jwt.sign({ id: user.id, username: user.username }, JWT_SECRET, { expiresIn: '7d' });
  res.json({ token, username: user.username });
});

app.get('/api/admin/stats', auth, (req, res) => {
  res.json({
    tours: db.prepare('SELECT COUNT(*) as c FROM tours WHERE active=1').get().c,
    bookings: db.prepare('SELECT COUNT(*) as c FROM bookings').get().c,
    pending: db.prepare('SELECT COUNT(*) as c FROM bookings WHERE status="pending"').get().c,
    confirmed: db.prepare('SELECT COUNT(*) as c FROM bookings WHERE status="confirmed"').get().c,
    messages: db.prepare('SELECT COUNT(*) as c FROM messages').get().c,
    unread: db.prepare('SELECT COUNT(*) as c FROM messages WHERE status="unread"').get().c,
    testimonials: db.prepare('SELECT COUNT(*) as c FROM testimonials WHERE approved=1').get().c,
    revenue: db.prepare('SELECT COALESCE(SUM(total_price),0) as s FROM bookings WHERE status="confirmed"').get().s,
    recent_bookings: db.prepare('SELECT * FROM bookings ORDER BY created_at DESC LIMIT 7').all(),
    recent_messages: db.prepare('SELECT * FROM messages ORDER BY created_at DESC LIMIT 5').all()
  });
});

// Tours CRUD
app.get('/api/admin/tours', auth, (req, res) => res.json(db.prepare('SELECT * FROM tours ORDER BY order_index,id').all()));
app.post('/api/admin/tours', auth, (req, res) => {
  const { name, description, short_description, duration, price, original_price, image, category, included, highlights, difficulty, max_group, featured, active } = req.body;
  const r = db.prepare(`INSERT INTO tours (name,description,short_description,duration,price,original_price,image,category,included,highlights,difficulty,max_group,featured,active) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)`).run(name, description, short_description, duration, +price, +original_price, image, category, included, highlights, difficulty || 'Easy', +max_group || 12, featured ? 1 : 0, active !== false ? 1 : 0);
  res.json({ id: r.lastInsertRowid });
});
app.put('/api/admin/tours/:id', auth, (req, res) => {
  const { name, description, short_description, duration, price, original_price, image, category, included, highlights, difficulty, max_group, featured, active } = req.body;
  db.prepare(`UPDATE tours SET name=?,description=?,short_description=?,duration=?,price=?,original_price=?,image=?,category=?,included=?,highlights=?,difficulty=?,max_group=?,featured=?,active=? WHERE id=?`).run(name, description, short_description, duration, +price, +original_price, image, category, included, highlights, difficulty, +max_group, featured ? 1 : 0, active ? 1 : 0, req.params.id);
  res.json({ success: true });
});
app.delete('/api/admin/tours/:id', auth, (req, res) => {
  db.prepare('UPDATE tours SET active=0 WHERE id=?').run(req.params.id);
  res.json({ success: true });
});

// Bookings
app.get('/api/admin/bookings', auth, (req, res) => res.json(db.prepare('SELECT * FROM bookings ORDER BY created_at DESC').all()));
app.put('/api/admin/bookings/:id', auth, (req, res) => {
  db.prepare('UPDATE bookings SET status=? WHERE id=?').run(req.body.status, req.params.id);
  res.json({ success: true });
});
app.delete('/api/admin/bookings/:id', auth, (req, res) => {
  db.prepare('DELETE FROM bookings WHERE id=?').run(req.params.id);
  res.json({ success: true });
});

// Messages
app.get('/api/admin/messages', auth, (req, res) => res.json(db.prepare('SELECT * FROM messages ORDER BY created_at DESC').all()));
app.put('/api/admin/messages/:id', auth, (req, res) => {
  db.prepare('UPDATE messages SET status=? WHERE id=?').run(req.body.status, req.params.id);
  res.json({ success: true });
});
app.delete('/api/admin/messages/:id', auth, (req, res) => {
  db.prepare('DELETE FROM messages WHERE id=?').run(req.params.id);
  res.json({ success: true });
});

// Testimonials CRUD
app.get('/api/admin/testimonials', auth, (req, res) => res.json(db.prepare('SELECT * FROM testimonials ORDER BY id DESC').all()));
app.post('/api/admin/testimonials', auth, (req, res) => {
  const { name, country, flag, rating, text, tour_name, approved, featured } = req.body;
  const r = db.prepare(`INSERT INTO testimonials (name,country,flag,rating,text,tour_name,approved,featured) VALUES (?,?,?,?,?,?,?,?)`).run(name, country, flag || '­ЪїЇ', +rating || 5, text, tour_name, approved ? 1 : 0, featured ? 1 : 0);
  res.json({ id: r.lastInsertRowid });
});
app.put('/api/admin/testimonials/:id', auth, (req, res) => {
  const { name, country, flag, rating, text, tour_name, approved, featured } = req.body;
  db.prepare(`UPDATE testimonials SET name=?,country=?,flag=?,rating=?,text=?,tour_name=?,approved=?,featured=? WHERE id=?`).run(name, country, flag, +rating, text, tour_name, approved ? 1 : 0, featured ? 1 : 0, req.params.id);
  res.json({ success: true });
});
app.delete('/api/admin/testimonials/:id', auth, (req, res) => {
  db.prepare('DELETE FROM testimonials WHERE id=?').run(req.params.id);
  res.json({ success: true });
});

// Gallery
app.get('/api/admin/gallery', auth, (req, res) => res.json(db.prepare('SELECT * FROM gallery ORDER BY order_index,id').all()));
app.post('/api/admin/gallery', auth, (req, res) => {
  const { title, image, category } = req.body;
  const r = db.prepare(`INSERT INTO gallery (title,image,category) VALUES (?,?,?)`).run(title, image, category || 'nature');
  res.json({ id: r.lastInsertRowid });
});
app.put('/api/admin/gallery/:id', auth, (req, res) => {
  const { title, image, category, active } = req.body;
  db.prepare(`UPDATE gallery SET title=?,image=?,category=?,active=? WHERE id=?`).run(title, image, category, active ? 1 : 0, req.params.id);
  res.json({ success: true });
});
app.delete('/api/admin/gallery/:id', auth, (req, res) => {
  db.prepare('DELETE FROM gallery WHERE id=?').run(req.params.id);
  res.json({ success: true });
});

// Settings
app.get('/api/admin/settings', auth, (req, res) => {
  const rows = db.prepare('SELECT key, value FROM settings').all();
  res.json(Object.fromEntries(rows.map(r => [r.key, r.value])));
});
app.put('/api/admin/settings', auth, (req, res) => {
  const upsert = db.prepare('INSERT OR REPLACE INTO settings (key,value) VALUES (?,?)');
  const tx = db.transaction(() => Object.entries(req.body).forEach(([k, v]) => upsert.run(k, v)));
  tx(); res.json({ success: true });
});

// Change password
app.put('/api/admin/password', auth, (req, res) => {
  const { current, newpass } = req.body;
  const user = db.prepare('SELECT * FROM admin_users WHERE id=?').get(req.user.id);
  if (!bcrypt.compareSync(current, user.password_hash)) return res.status(400).json({ error: 'Wrong current password' });
  db.prepare('UPDATE admin_users SET password_hash=? WHERE id=?').run(bcrypt.hashSync(newpass, 10), req.user.id);
  res.json({ success: true });
});

// Admin SPA
app.get('/admin*', (req, res) => res.sendFile(path.join(__dirname, 'public', 'admin.html')));

// Start (local only Рђћ Vercel handles serving via module.exports)
if (!process.env.VERCEL) {
  app.listen(PORT, () => {
    console.log('\nРЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ');
    console.log('РЋЉ   ­ЪЄг­ЪЄф  GEORGIA PREMIUM TRIPS  ­ЪЄг­ЪЄф     РЋЉ');
    console.log('РЋаРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋБ');
    console.log(`РЋЉ  ­Ъїљ Website: http://localhost:${PORT}      РЋЉ`);
    console.log(`РЋЉ  ­Ъћљ Admin:   http://localhost:${PORT}/admin РЋЉ`);
    console.log('РЋЉ  ­ЪЉц Login:   admin / georgia2025      РЋЉ');
    console.log('РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ\n');
  });
}

module.exports = app;
